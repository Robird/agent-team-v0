# Changefeed Archive – 2025-11

> 本文件归档 Sprint 03 及更早（2025-11-19 至 2025-11-25）的 changefeed anchor。这些 anchor 仍可引用，但详细说明已压缩。

## 2025-11-19 – Foundations
- **#delta-2025-11-19** – PT/TM/DF Phase 0–4 骨架、类型映射及 56 项基础测试，确立 `PieceTreeBuilder→PieceTreeModel→PieceTreeBuffer` 流程与首批 QA 基线。

## 2025-11-20 – AA2/AA3 Remediation
- **#delta-2025-11-20** – AA2-005/006 与 AA3 CL1~CL4 的 CRLF 修复、Undo/EOL、TextModel 搜索、多范围装饰与 Diff parity；测试扩展到 85/85。

## 2025-11-21 – AA4 CL5~CL7
- **#delta-2025-11-21** – Builder/Factory（AA4-005）、ChangeBuffer/CRLF（AA4-006）与 Cursor/Snippet 骨架（AA4-007 + BF1 Fuzz 修复）全部落地，QA rerun 105/105 + fuzz 115/115。

## 2025-11-22 – Batch #1 & OI Backlog
- **#delta-2025-11-22** – ReplacePattern 移植（23 测试）、文档纠错与 OI backlog 初始化；TestMatrix/ts-plan 对齐。

## 2025-11-23 – DocUI & Decorations
- **#delta-2025-11-23** – Batch #2 FindModel、LineCount/Regex/EmptyString tests + FR-01/FR-02 缓存优化（187/187）。
- **#delta-2025-11-23-b3-fm** – `SelectAllMatches` 主光标顺序 parity + DocUI harness 扩展。
- **#delta-2025-11-23-b3-fsel** – `FindUtilities` / selection seeding / `DocUIFindSelectionTests` 引入。
- **DocUI FindController stack** (`#delta-2025-11-23-b3-fc-core`, `#delta-2025-11-23-b3-fc-scope`, `#delta-2025-11-23-b3-fc-regexseed`, `#delta-2025-11-23-b3-fc-lifecycle`) – 控制器命令、scope 持久化、Regex seeding 与 widget lifecycle 的全集成，DocUIFindControllerTests 由 10→27。
- **Decorations parity** (`#delta-2025-11-23-b3-decor-stickiness`, `#delta-2025-11-23-b3-decor-stickiness-review`) – 范围裁剪、owner-aware 查询、overview throttling 与 stickiness QA（Decoration/DocUIFindDecorations/Stickiness tests）。
- **#delta-2025-11-23-b3-piecetree-fuzz** – env-seeded `PieceTreeFuzzHarness` + range diff 辅助与 deterministic 脚本的首个版本。

## 2025-11-24 – DocUI Scope & PieceTree Reliability
- **Scoped FindModel** (`#delta-2025-11-24-find-scope`, `#delta-2025-11-24-find-replace-scope`, `#delta-2025-11-24-find-primary`, `#delta-2025-11-24-b3-fm-multisel`) – 装饰范围回填、Regex replace scope、primary cursor 语义与多选区顺序全对齐。
- **#delta-2025-11-24-b3-docui-staged** – DocUI staged fixes：`FindDecorations.Reset`、零宽区间、flush-edit 行为以及 `DocUIFindDecorationsTests`/FindModel 追加案例。
- **PieceTree Reliability wave** (`#delta-2025-11-24-b3-piecetree-fuzz`, `#delta-2025-11-24-b3-piecetree-deterministic`, `#delta-2025-11-24-b3-sentinel`, `#delta-2025-11-24-b3-getlinecontent`) – 扩展 fuzz harness、TS deterministic suites、per-model sentinel、`GetLineContent`/`GetLineRawContent` 缓存断言。

## 2025-11-25 – Deterministic Suites & Snapshots
- **CRLF Deterministic** (`#delta-2025-11-25-b3-piecetree-deterministic-crlf`) – 50/50 CRLF + chunk 脚本重现 TS bug battery。
- **Snapshot Stack** (`#delta-2025-11-25-b3-piecetree-snapshot`, `#delta-2025-11-25-b3-textmodel-snapshot`) – `PieceTreeSnapshot.Read()` 单次遍历、`TextModelSnapshot` 包装器、`SnapshotReader` helper 与 parity tests。
- **#delta-2025-11-25-b3-bom** – `PieceTreeBuffer.GetBom()` 断言 UTF-8 BOM 元数据不污染 `GetText()`。
- **#delta-2025-11-25-b3-search-offset** – TS search-offset cache 套件移植；`PieceTreeSearchOffsetCacheTests` + helper assert。
- **#delta-2025-11-25-b3-textmodelsearch** – 45 项 TextModelSearch parity（word boundary、multiline、Unicode anchors）。

---

> 💡 详细命令与文件列表请查阅 `docs/reports/migration-log.md` 中对应的日期条目。
