# ä»»åŠ¡ç»“æœ: èµ·è‰ StateJournal MVP å®æ–½è®¡åˆ’ v0.1

> **ä»»åŠ¡ ID**: T-20251225-02  
> **æ‰§è¡Œè€…**: åˆ˜å¾·æ™º (StandardsChair)  
> **æ‰§è¡Œæ—¶é—´**: 2025-12-25  
> **çŠ¶æ€**: âœ… å®Œæˆ

---

## æ‰§è¡Œæ‘˜è¦

åŸºäº T-20251225-01 å®¡è®¡ç»“æœï¼ˆ80 æ¡æ¬¾ï¼Œ5 é˜¶æ®µä¾èµ–å›¾ï¼‰ï¼ŒæˆåŠŸèµ·è‰äº† StateJournal MVP å®æ–½è®¡åˆ’ v0.1ã€‚

**å…³é”®äº§å‡º**ï¼š
- **24 ä¸ªä»»åŠ¡**ï¼Œåˆ†å¸ƒåœ¨ 5 ä¸ª Phase
- **æ€»é¢„ä¼°å·¥æ—¶**ï¼š44-58 å°æ—¶
- **3 ä¸ª runSubagent è°ƒç”¨æ¨¡æ¿ç¤ºä¾‹**
- **å®Œæ•´çš„æ¡æ¬¾-ä»»åŠ¡åå‘æ˜ å°„**

---

## 1. äº§å‡ºæ–‡ä»¶

| äº§å‡º | ä½ç½® | è¯´æ˜ |
|------|------|------|
| å®æ–½è®¡åˆ’ | [implementation-plan.md](../../atelia/docs/StateJournal/implementation-plan.md) | v0.1 è‰æ¡ˆ |

---

## 2. è®¡åˆ’ç»“æ„æ¦‚è§ˆ

### 2.1 Phase åˆ’åˆ†

| Phase | åç§° | ä»»åŠ¡æ•° | é¢„ä¼°å·¥æ—¶ | ä¸»è¦äº§å‡º |
|-------|------|--------|----------|----------|
| 1 | RBF Layer 0 | 5 | 8-12h | `Rbf/` ç›®å½• |
| 2 | æ ¸å¿ƒç±»å‹ä¸ç¼–ç  | 5 | 6-8h | `Core/` ç›®å½• |
| 3 | DurableDict å®ç° | 5 | 10-14h | `Objects/` ç›®å½• |
| 4 | Workspace ç®¡ç† | 5 | 8-10h | `Workspace/` ç›®å½• |
| 5 | Commit & Recovery | 4 | 10-12h | `Commit/` ç›®å½• |
| **æ€»è®¡** | â€” | **24** | **44-58h** | â€” |

### 2.2 ä»»åŠ¡ç²’åº¦åˆ†æ

| ç²’åº¦ | æ•°é‡ | å æ¯” |
|------|------|------|
| 1h | 4 | 17% |
| 2h | 12 | 50% |
| 3h | 5 | 21% |
| 4h | 3 | 12% |

**è¯„ä¼°**ï¼šæ‰€æœ‰ä»»åŠ¡éƒ½åœ¨ 1-4h èŒƒå›´å†…ï¼Œç¬¦åˆ"å¯ç‹¬ç«‹éªŒæ”¶"çš„ç²’åº¦è¦æ±‚ã€‚

---

## 3. runSubagent è°ƒç”¨æ¨¡æ¿

å·²æä¾› 3 ä¸ªç¤ºä¾‹æ¨¡æ¿ï¼š

| ç¤ºä¾‹ | ä»»åŠ¡ ID | å¤æ‚åº¦ | è¯´æ˜ |
|------|---------|--------|------|
| ç¤ºä¾‹ 1 | T-P1-01 | ç®€å• | Fence/å¸¸é‡å®šä¹‰ï¼ˆ1hï¼‰ |
| ç¤ºä¾‹ 2 | T-P1-04 | ä¸­ç­‰ | IRbfFramer/Builderï¼ˆ3hï¼‰ |
| ç¤ºä¾‹ 3 | T-P3-03 | å¤æ‚ | DurableDict åŒå­—å…¸ï¼ˆ4hï¼‰ |

**æ¨¡æ¿ç»“æ„**ï¼š
```yaml
taskId: "T-XX-XX"
phase: N
name: "ä»»åŠ¡åç§°"
targetFiles: [...]
specFiles: [...]
conditions: [...]  # è§„èŒƒæ¡æ¬¾
implementation: [...]  # å®ç°è¦ç‚¹
dependencies: [...]
testFile: "..."
acceptanceCriteria: [...]
```

---

## 4. è´¨é‡é—¨ç¦

| é˜¶æ®µ | é—¨ç¦æ¡ä»¶ | æµ‹è¯•å‘é‡æ¥æº |
|------|----------|--------------|
| Phase 1 | RBF è¯»å†™æµ‹è¯• 100% é€šè¿‡ | rbf-test-vectors.md |
| Phase 2 | æ ¸å¿ƒç±»å‹æµ‹è¯• 100% é€šè¿‡ | FRAMETAG-OK-*, VarInt |
| Phase 3 | DurableDict æµ‹è¯• 100% é€šè¿‡ | DICT-*, DIRTY-* |
| Phase 4 | Workspace æµ‹è¯• 100% é€šè¿‡ | FIRST-COMMIT-*, LoadObject |
| Phase 5 | ç«¯åˆ°ç«¯ Commit/Recovery é€šè¿‡ | COMMIT-ALL-*, Recovery |

---

## 5. å‘ç°çš„é—®é¢˜

### 5.1 è§„èŒƒç›¸å…³ï¼ˆè½»å¾®ï¼‰

| # | é—®é¢˜ | å»ºè®® |
|---|------|------|
| 1 | æµ‹è¯•å‘é‡æ–‡ä»¶ä¸­éƒ¨åˆ†æµ‹è¯•ç”¨ä¾‹ç¼ºå°‘å…·ä½“å­—èŠ‚åºåˆ— | Phase å®æ–½å‰è¡¥å…… |
| 2 | CRC32C æµ‹è¯•å‘é‡éœ€è¦æ·»åŠ  | ä½¿ç”¨å·²çŸ¥å‚è€ƒå®ç°ç”Ÿæˆ |

### 5.2 è®¡åˆ’ç›¸å…³ï¼ˆå¯ä¼˜åŒ–ï¼‰

| # | é—®é¢˜ | å»ºè®® |
|---|------|------|
| 1 | éƒ¨åˆ†ä»»åŠ¡é—´ä¾èµ–å¯èƒ½è¿‡äºç´§å¯† | ç•…è°ˆä¼šæ—¶è®¨è®ºå¹¶è¡ŒåŒ–å¯èƒ½æ€§ |
| 2 | é›†æˆæµ‹è¯•ä»»åŠ¡æœªå•ç‹¬åˆ—å‡º | v0.2 ä¸­è¡¥å…… |

---

## 6. å®Œæˆæ ‡å‡†æ£€æŸ¥

- [x] åˆ›å»º `implementation-plan.md` æ–‡ä»¶
- [x] åŒ…å« Phase 1-5 çš„ä»»åŠ¡åˆ’åˆ†ï¼ˆ5 ä¸ª Phaseï¼Œ24 ä¸ªä»»åŠ¡ï¼‰
- [x] è‡³å°‘æœ‰ 10 ä¸ªå…·ä½“ä»»åŠ¡å®šä¹‰ï¼ˆå®é™… 24 ä¸ªï¼‰
- [x] è‡³å°‘æœ‰ 3 ä¸ª runSubagent è°ƒç”¨æ¨¡æ¿ç¤ºä¾‹ï¼ˆå®é™… 3 ä¸ªï¼‰
- [x] ç»“æœå†™å…¥ `task-result.md`

---

## 7. åç»­å»ºè®®

### 7.1 è¿‘æœŸï¼ˆä»Šå¤©ï¼‰

1. **ç•…è°ˆä¼šå®¡é˜…**ï¼šé‚€è¯· Advisor-Claudeï¼ˆæ¶æ„ï¼‰ã€Advisor-GPTï¼ˆæ¡æ¬¾å®¡è®¡ï¼‰å®¡é˜…è®¡åˆ’
2. **è®¨è®ºé‡ç‚¹**ï¼š
   - ä»»åŠ¡ç²’åº¦æ˜¯å¦åˆé€‚
   - ä¾èµ–å…³ç³»æ˜¯å¦æœ‰ä¼˜åŒ–ç©ºé—´
   - runSubagent æ¨¡æ¿æ ¼å¼æ˜¯å¦å®Œå–„

### 7.2 ä¸­æœŸï¼ˆå®æ–½å‰ï¼‰

1. **è¡¥å…… CRC32C æµ‹è¯•å‘é‡**
2. **ç¡®è®¤é¡¹ç›®ç»“æ„**ï¼šä¸ç°æœ‰ `atelia/src/` ç›®å½•å¯¹é½
3. **ç¡®è®¤æµ‹è¯•æ¡†æ¶**ï¼šå»¶ç”¨ xUnit + FluentAssertions

### 7.3 è¿œæœŸï¼ˆå®æ–½ä¸­ï¼‰

1. **Phase å®Œæˆåå›é¡¾**ï¼šæ›´æ–°è®¡åˆ’/æµ‹è¯•è¦†ç›–
2. **æ¸è¿›å¼å®Œå–„**ï¼šrunSubagent æ¨¡æ¿å¯æ ¹æ®å®è·µåé¦ˆè¿­ä»£

---

## 8. é™„å½•ï¼šæ‰§è¡Œè¿‡ç¨‹è®°å½•

### 8.1 æ‰§è¡Œæ–¹å¼é€‰æ‹©

é€‰æ‹©**è‡ªè¡Œèµ·è‰**è€Œéç»„ç»‡ç•…è°ˆä¼šï¼Œç†ç”±ï¼š
- èµ·è‰é˜¶æ®µéœ€è¦ç»“æ„åŒ–è¾“å‡ºï¼ˆè¡¨æ ¼ã€YAML æ¨¡æ¿ï¼‰
- å®¡è®¡ç»“æœå·²æä¾›è¶³å¤Ÿçš„è¾“å…¥
- ç•…è°ˆä¼šæ›´é€‚åˆå®¡é˜…/è¿­ä»£é˜¶æ®µ

### 8.2 æ—¶é—´åˆ†é…

| æ­¥éª¤ | ç”¨æ—¶ | è¯´æ˜ |
|------|------|------|
| è¯»å–è¾“å…¥æ–‡ä»¶ | 5min | å®¡è®¡ç»“æœ + æµ‹è¯•å‘é‡ |
| è®¾è®¡è®¡åˆ’ç»“æ„ | 10min | Phase åˆ’åˆ† + ä»»åŠ¡è¡¨æ ¼ |
| ç¼–å†™ä»»åŠ¡æ¸…å• | 20min | 24 ä¸ªä»»åŠ¡è¯¦æƒ… |
| ç¼–å†™ runSubagent æ¨¡æ¿ | 15min | 3 ä¸ªç¤ºä¾‹ |
| ç¼–å†™è´¨é‡é—¨ç¦ + é™„å½• | 10min | æ¡æ¬¾-ä»»åŠ¡æ˜ å°„ |
| **æ€»è®¡** | **~60min** | â€” |

---

> **æ‰§è¡Œå®Œæˆæ—¶é—´**: 2025-12-25
> **å®é™…ç”¨æ—¶**: ~60 åˆ†é’Ÿï¼ˆé¢„ä¼° 45-60 åˆ†é’Ÿï¼Œç¬¦åˆé¢„æœŸï¼‰
>
> El Psy Kongroo. ğŸ„
