# 实验总结：Craftsman 审阅提示词研究

> **结论**：Craftsman 可以有效使用，关键是**提示词工程**。角色设定（工程师视角）是最佳方式。

---

## §1 实验结果总览

| 实验 | 提示词策略 | 问题数 | 高价值 | 伪问题 | 价值比 | 深度 |
|:-----|:-----------|:------:|:------:|:------:|:------:|:----:|
| E1 | 极简 | 6 | 2 | 2 | 33% | 中 |
| E2 | 限定范围 | 3 | 2 | 0 | 67% | 中 |
| E3 | 正向引导 | 1 | 1 | 0 | 100% | 高 |
| E4 | 负向约束 | 1 | 1 | 0 | 100% | 高 |
| E5 | 具体任务 | 1 | 1 | 0 | 100% | 中 |
| **E6** | **角色设定** | **8** | **5** | **0** | **62%** | **最高** |

---

## §2 核心发现

### 2.1 角色设定是最佳方式

**工程师视角**让 Craftsman：
- 从"审计师"转为"实现者"
- 关注"实现正确性"而非"文档形式"
- 主动发现边界情况和实现陷阱
- 提供修复建议（而非只列问题）

**示例**：E6 发现了 E1-E5 都没发现的 7 个真问题。

### 2.2 "证据链"、"可追溯性"是伪问题的关键词

W-0006 失败的根源：让 Craftsman 关注"证据链完整性"，触发了无限回归。

**解决方案**：显式排除这些概念，或用角色设定自动过滤。

### 2.3 正向引导 vs 负向约束等效

E3 和 E4 达到相同效果（100% 价值比），但风格不同：
- **正向引导**：适合"发现问题"场景
- **负向约束**：适合"验证一致性"场景（会报告 PASS 项）

### 2.4 具体任务模式完全受控

E5 输出完全可预测，适合：
- 修订后验证一致性
- 检查特定条款是否对齐
- 回归测试文档

不适合发现新问题。

---

## §3 提示词模板库

### 模板 A：发现模式（推荐）

> 用于：探索性审阅、发现未知问题

```markdown
你是一位**准备实现 [系统名称] 的工程师**，正在阅读以下设计文档：

- [文件列表]

你需要确保自己理解正确，不会因为文档描述的歧义而写出错误的代码。

请指出文档中**可能让你写错代码的地方**。只关注会导致实现错误的问题，不关注文档风格。
```

### 模板 B：验证模式

> 用于：修订后验证、检查特定条款

```markdown
验证以下检查清单，报告每项的结果（PASS/FAIL）：

**文档**：
- [文件列表]

**检查清单**：
1. [ ] [检查项 1]
2. [ ] [检查项 2]
...

对于 FAIL 的项，说明具体不一致之处。
```

### 模板 C：聚焦模式

> 用于：检查特定概念的一致性

```markdown
审阅以下两个文档中 **[概念名称] 相关内容**的一致性：

- [文件 1] 的 [章节]
- [文件 2] 的 [章节]

只关注 [概念] 的 [具体维度] 在两文档之间是否一致。

**只报告会导致实现错误的问题**。不关注措辞、格式、元信息等。
```

---

## §4 避免陷阱

### 4.1 不要使用的提示词

```markdown
❌ 审阅文档的一致性和自洽性
❌ 检查证据链完整性
❌ 验证可追溯性
❌ 确保历史可复核
```

这些会触发"审计师模式"，产生大量伪问题。

### 4.2 推荐使用的提示词

```markdown
✅ 可能让你写错代码的地方
✅ 会导致实现错误的问题
✅ 技术参数（位分配、数值范围）是否一致
✅ 只关注会导致实现错误的问题
```

这些聚焦于工程正确性，过滤伪问题。

### 4.3 排除列表（可选但有效）

```markdown
**不要关注以下问题**：
- 措辞差异、表述风格
- Markdown 格式、章节编号
- frontmatter（docId、title、tags）
- "证据链"、"可追溯性"
- 文档之间的"依赖方向"描述
```

---

## §5 W-0006 失败的根因分析

### 为什么失败？

| 因素 | W-0006 的做法 | 应该的做法 |
|:-----|:--------------|:-----------|
| 提示词 | "审阅一致性和自洽性" | "可能让你写错代码的地方" |
| 角色 | 审计师 | 工程师 |
| 关注点 | 证据链、可追溯性 | 实现正确性 |
| 输出期望 | 问题清单 | 修复建议 |

### Craftsman 不是"有问题"

Craftsman 的能力很强（见 E6 的高质量输出），问题是**我们用错了方式**：
- 让他当"审计师"而非"工程师"
- 要求"证据链"而非"实现正确性"
- 期望"发现问题"而非"帮助理解"

---

## §6 后续行动

### 6.1 立即可用

- [x] 使用模板 A（发现模式）重新审阅 RBF 文档
- [ ] 根据 E6 发现的 8 个问题，评估修订优先级
- [ ] 更新 Craftsman 的使用指南

### 6.2 方法论更新

- [ ] 将本实验结论整理到 `agent-team/how-to/review-with-craftsman.md`
- [ ] 更新 `agent-team/wiki/review-methodology-crisis.md` 的解决方案部分
- [ ] 考虑为 Craftsman 创建专用的 `.agent.md` 片段

### 6.3 W-0006 复盘

E6 发现的问题（2-8）可能是真正需要修复的设计问题。建议：
- 评估这些问题是否需要处理
- 如果需要，可以创建新的 Wish 或直接修订

---

## §7 核心结论

> **Craftsman 可以有效使用，关键是提示词工程。**
>
> **最佳方式**：角色设定（工程师视角）
> **关键咒语**："可能让你写错代码的地方"
> **禁止词汇**："证据链"、"可追溯性"、"一致性和自洽性"

---

*实验完成日期：2026-01-06*  
*实验者：AI Team Leader*  
*审阅状态：待监护人确认*
