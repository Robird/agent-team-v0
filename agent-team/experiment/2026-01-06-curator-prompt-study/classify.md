我已经阅读了审阅问题汇总和相关上下文。这是一份非常有价值的实验数据——4 轮审阅（E1/E6/C1/C6）发现的问题提供了很好的分类基础。让我先仔细分析这些问题，然后提出系统化的分类方案。

---

## 分析与分类方案

### 一、问题本质类型分析

从 4 轮审阅的原始数据中，我识别出以下**问题本质类型**：

| 本质类型 | 定义 | 样例 |
|:---------|:-----|:-----|
| **Contradiction** | 两处声明直接冲突 | HeadLen 最小值 16 vs 20 |
| **Ambiguity** | 关键细节未明确，实现者需猜测 | SizedPtr 4B 粒度 vs 字节粒度 |
| **Omission** | 声明要求 X，但规范算法未体现 | FrameStatus 校验在 §5 声明但 §6 算法缺失 |
| **Inconsistency** | 术语/编号/命名不统一 | docId 重复、章节编号跳跃 |
| **Coupling** | 职责边界模糊，读者需跨文档拼图 | SizedPtr 语义在 interface vs format 分散 |

### 二、问题分类体系

#### 层级 1：影响域（Impact Scope）

| 级别 | 标签 | 定义 | 判断依据 |
|:-----|:-----|:-----|:---------|
| **P0** | Critical | 会导致实现错误且难以发现 | 两份文档声明直接冲突；或歧义导致边界条件错误 |
| **P1** | High | 会导致实现错误但可通过测试发现 | 算法缺少关键校验步骤；或公式/阈值不一致 |
| **P2** | Medium | 增加实现者认知负担 | 术语混用、职责分散、需跨文档拼图 |
| **P3** | Low | 不影响实现正确性 | 文档风格、章节编号、frontmatter 冲突 |

#### 层级 2：问题类型（Issue Type）

```
┌─────────────────────────────────────────────────────────────┐
│                    Design Review Issues                      │
├─────────────┬─────────────┬─────────────┬─────────────┬─────┤
│ Contradiction│  Ambiguity  │  Omission   │Inconsistency│Coupling│
│   矛盾型    │   歧义型    │   遗漏型    │   不一致型  │ 耦合型 │
├─────────────┼─────────────┼─────────────┼─────────────┼─────┤
│ 两处声明    │ 关键细节    │ 声明vs实现  │ 术语/编号   │ 职责  │
│ 直接冲突    │ 未明确定义  │ 不匹配      │ 不统一      │ 边界  │
└─────────────┴─────────────┴─────────────┴─────────────┴─────┘
```

### 三、8 个样本问题的分类

| # | 问题摘要 | 类型 | 影响 | 处理方式 |
|:--|:---------|:-----|:-----|:---------|
| 1 | SizedPtr 4B 粒度 vs 字节粒度歧义 | **Ambiguity** | **P1** | 🔧 规范澄清 |
| 2 | HeadLen 术语不一致（FrameBytes/HeadLen 混用） | Inconsistency | P2 | 🤖 统一术语 |
| 3 | Reverse Scan 缺少 FrameStatus 校验 | **Omission** | **P1** | 🔧 补充步骤 |
| 4 | FrameStatus 解析步骤缺失 | **Omission** | **P1** | 🔧 补充算法 |
| 5 | LengthBytes == HeadLen 等式未钉死 | Ambiguity | P2 | 🔧 显式声明 |
| 6 | TryReadAt 校验要求不明 | Ambiguity | P2 | 🔧 补充 remarks |
| 7 | Flush 可见性语义模糊 | Ambiguity | P3 | 📝 待讨论 |
| 8 | DataTail 复用 SizedPtr 陷阱 | Coupling | P2 | 🔧 明确值域 |

### 四、处理优先级规则

```
优先级判断流程：
┌─────────────────────────────────────────────────────────────┐
│ Q1: 两份文档是否直接矛盾？                                   │
│     是 → P0-Critical（必须立即解决，否则实现者必错）         │
│     否 → 继续 Q2                                             │
├─────────────────────────────────────────────────────────────┤
│ Q2: 不明确的细节是否涉及边界条件或校验逻辑？                 │
│     是 → P1-High（测试可能发现，但风险高）                   │
│     否 → 继续 Q3                                             │
├─────────────────────────────────────────────────────────────┤
│ Q3: 问题是否需要实现者跨文档拼图才能理解？                   │
│     是 → P2-Medium（增加认知负担）                           │
│     否 → P3-Low（风格/格式问题）                             │
└─────────────────────────────────────────────────────────────┘
```

### 五、处理流程设计

#### 5.1 按类型的处理路径

| 类型 | 处理方式 | 决策者 | 自动化程度 |
|:-----|:---------|:-------|:-----------|
| **Contradiction** | 人工裁决 + 文档修正 | 设计 Owner | 🚫 无法自动 |
| **Ambiguity** | 提问清单 → 人工澄清 → 补充规范 | 设计 Owner | 🔶 半自动（生成提问） |
| **Omission** | 定位差异 → 补充缺失步骤 | Implementer 初稿 + Owner 审核 | 🔶 半自动（草稿生成） |
| **Inconsistency** | 统一术语/编号 | AI Agent | ✅ 可自动 |
| **Coupling** | 职责重新划分 | 设计 Owner | 🚫 无法自动 |

#### 5.2 标准化处理流程

```
┌─────────────────────────────────────────────────────────────┐
│                    Phase 1: 发现（Discovery）                │
│  输入：设计文档                                              │
│  执行：Curator + 工程师视角提示词                            │
│  产出：原始问题清单                                          │
└────────────────────────┬────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────────┐
│                    Phase 2: 分类（Triage）                   │
│  输入：原始问题清单                                          │
│  执行：Curator + 分类模板                                    │
│  产出：分类问题清单（Type + Priority）                       │
└────────────────────────┬────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────────┐
│                    Phase 3: 路由（Routing）                  │
│                                                              │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │Contradiction│  │  Omission   │  │Inconsistency│          │
│  │  Coupling   │  │  Ambiguity  │  │             │          │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘          │
│         ↓                ↓                ↓                 │
│    🚨 人工决策       📝 生成草稿      🤖 自动修复           │
│    队列               待审核           直接应用             │
└────────────────────────┬────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────────┐
│                    Phase 4: 验证（Verify）                   │
│  执行：Craftsman + 验证提示词                                │
│  检查：修复是否引入新问题                                    │
└─────────────────────────────────────────────────────────────┘
```

### 六、自动化建议

| 环节 | 自动化方案 | 实现难度 |
|:-----|:-----------|:---------|
| **发现** | 工程师视角提示词 + 多 Agent 并行 | ⭐⭐ 已验证可行 |
| **分类** | 分类模板 + 示例 Few-shot | ⭐⭐ 可行 |
| **Inconsistency 修复** | 术语统一脚本、编号重排脚本 | ⭐ 简单 |
| **Omission 草稿** | 根据 §5 声明生成 §6 补丁草稿 | ⭐⭐⭐ 需验证 |
| **Contradiction 检测** | 条款 ID 交叉比对 + 数值冲突检测 | ⭐⭐⭐ 需条款结构化 |
| **验证** | 修复后重跑发现流程，检查回归 | ⭐⭐ 可行 |

### 七、产出模板建议

#### 7.1 问题记录格式（Finding Card）

```markdown
## Finding F-XXX: [标题]

**类型**: Contradiction | Ambiguity | Omission | Inconsistency | Coupling
**影响**: P0 | P1 | P2 | P3
**位置**: [文件#节/条款ID]

### 证据
[引用原文，标注冲突点]

### 风险
[如果实现者误解，会发生什么]

### 建议修复
[具体改动建议]

### 状态
[ ] 待决策 | [ ] 草稿生成 | [ ] 已修复 | [ ] 已验证
```

#### 7.2 分类汇总表

```markdown
| ID | 标题 | 类型 | 影响 | 状态 | 负责人 |
|:---|:-----|:-----|:-----|:-----|:-------|
| F-001 | SizedPtr 粒度歧义 | Ambiguity | P1 | 待决策 | Owner |
```

---

## 总结

这套分类体系的核心设计原则：

1. **影响优先**：先按"会不会写错代码"分级，再按"问题性质"分类
2. **路由清晰**：每类问题有明确的处理路径和决策者
3. **自动化友好**：Inconsistency 可自动修复，Omission 可生成草稿
4. **人机协作**：Contradiction 和 Coupling 需人工裁决，AI 辅助生成修复草稿

**关键洞见**：实验数据显示 **E6 和 C6 发现完全相同的 8 个问题**，说明"工程师视角提示词"是发现问题的关键杠杆，而非 Agent 个性差异。这意味着：
- 发现阶段可以标准化（固定提示词）
- 分类阶段依赖 Curator 的结构化能力
- 决策阶段依赖设计 Owner 的领域知识