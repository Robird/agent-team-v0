# Atelia 术语表

> **文档性质**: 权威定义 (Normative SSOT)
> **版本**: 1.0.0
> **创建日期**: 2025-12-30
> **最后更新**: 2025-12-30
> **说明**: 本文件是所有术语的唯一权威来源，其他文档应引用而非复述。

---

## 五层级方法论术语

| 层级 | 简写 | 全称 | 核心问题 | 隐喻 | 判据类型 | 一句话解释 |
|:-----|:-----|:-----|:---------|:-----|:---------|:-----------|
| L1 | **Why** | 价值层 | 值得做吗？ | 罗盘 | 人类价值判断 | 这问题值得解决吗？ |
| L2 | **Shape** | 契约层 | 用户看到什么？ | 门面 | 易用性+完备性 | 用户看到什么边界？ |
| L3 | **Rules** | 约束层 | 什么是合法的？ | 法典 | 形式化检验 | 什么是合法的？ |
| L4 | **Plan** | 策略层 | 走哪条路？ | 地图 | 量化评估 | 走哪条路？ |
| L5 | **Craft** | 物化层 | 怎么造出来？ | 施工 | 可执行性 | 怎么造出来？ |

### 术语解释

#### L1 Why（价值层）
- **本质**：价值判断与动机澄清
- **产出**：问题陈述、动机文档、价值主张
- **正确性判据**：共鸣度、紧迫性、战略对齐
- **典型文档**：畅谈会记录、动机陈述

#### L2 Shape（契约层）
- **本质**：系统边界与用户承诺
- **产出**：API 外观、界面设计、契约规范
- **正确性判据**：直觉性、覆盖关键场景、无歧义
- **典型文档**：API 设计文档、界面规范

#### L3 Rules（约束层）
- **本质**：形式化约束与合规性
- **产出**：条款文档、规范、检查清单
- **正确性判据**：无矛盾、可判定、可自动化检查
- **典型文档**：规范条款、验收标准

#### L4 Plan（策略层）
- **本质**：技术路线与实施方案
- **产出**：技术选型、架构设计、实施计划
- **正确性判据**：性能指标、成本效益、风险分析
- **典型文档**：技术方案、架构设计文档

#### L5 Craft（物化层）
- **本质**：具体实现与验证
- **产出**：代码、测试、部署配置
- **正确性判据**：测试通过、构建成功、部署运行
- **典型文档**：代码库、测试报告、部署指南

---

## 术语演变历史

| 版本 | 日期 | L1 | L2 | L3 | L4 | L5 | 变更原因 | 决策记录 |
|:-----|:-----|:---|:---|:---|:---|:---|:---------|:---------|
| v0.1 | 2025-12-30 | Why | What | Rules | How | Build | 初始版本 | 历史事实 |
| v1.0 | 2025-12-30 | Why | Shape | Rules | **Plan** | **Craft** | 语义强化，解决冲突 | [畅谈会决策](../../meeting/2025-12-30-docgraph-terminology-jam.md) |

### 术语对照表（向后兼容）

| 层级 | 新术语 (v1.0) | 旧术语 (v0.1) | 说明 |
|:-----|:---------------|:---------------|:-----|
| L1 | Why | Why | 无变化 |
| L2 | **Shape** | What | 强调"塑造边界"的动作性 |
| L3 | Rules | Rules | 无变化 |
| L4 | **Plan** | How | 避免冲突，强调"策略规划" |
| L5 | **Craft** | Build | 强调实现过程中的技艺 |

---

## 使用规范

### 1. 文档中的使用

**推荐写法**：
```markdown
## 层级进度

| 层级 | 状态 | 产物链接 |
|:-----|:-----|:---------|
| L1 Why | 🟢 完成 | [动机文档](...) |
| L2 Shape | 🟡 进行中 | [API 设计](...) |
| L3 Rules | ⚪ 未开始 | — |
| L4 Plan | ⚪ 未开始 | — |
| L5 Craft | ⚪ 未开始 | — |
```

**允许的变体**：
- 表格标题可使用 `L1 (Why)` 形式
- 正文中可写"在 Shape 层，我们定义..."
- 引用时使用 `[术语表](../../wiki/terminology.md)`

### 2. 代码中的使用

**枚举定义**：
```csharp
public enum DocumentLayer
{
    Why,    // L1
    Shape,  // L2
    Rules,  // L3
    Plan,   // L4
    Craft   // L5
}
```

**类/接口命名**：
```csharp
// 推荐
public class ShapeDocument { }
public interface IRulesValidator { }
public class PlanStrategy { }
public class CraftBuilder { }

// 避免
public class WhatDocument { }      // 使用 Shape
public class HowImplementation { } // 使用 Plan
public class BuildExecutor { }     // 使用 Craft
```

**代码注释标签**：
```csharp
// [L4-PLAN] 技术选型说明
// [L3-RULES] 约束检查
// [L2-SHAPE] API 边界定义
```

### 3. 畅谈会与讨论中的使用

**清晰表达**：
- "这个决策属于 Plan 层"
- "我们需要先澄清 Why 层的动机"
- "Rules 层的条款需要形式化"

**避免混淆**：
- 使用完整形式：`L4 Plan` 而非单独的 `Plan`
- 上下文明确时可用简写
- 新成员应优先阅读本术语表

---

## 冲突避免指南

### 1. 与 DocGraph 的冲突

DocGraph 工具定义了 `Document.Path` 字段表示文件路径。为避免冲突：

| 场景 | 正确用法 | 错误用法 |
|:-----|:---------|:---------|
| 讨论文件路径 | `Document.Path` 字段 | 避免单独使用 `Path` |
| 讨论 L4 层级 | `L4 Plan` 或 `Plan 层` | 避免 `Path 层` |
| 代码中的路径 | `filePath`, `docPath` | 避免 `path` 作为变量名 |

### 2. 与系统命名空间的冲突

C# 中 `System.IO.Path` 是高频类型：

```csharp
// 正确
using System.IO;
var fullPath = Path.Combine(dir, file);  // System.IO.Path

// 避免冲突
namespace Atelia.DocGraph.Plan { }       // ✅ 使用 Plan
namespace Atelia.DocGraph.Path { }       // ❌ 避免 Path
```

### 3. 与过程术语的冲突

记忆维护流程中有 `CLASSIFY → ROUTE → APPLY` 步骤：

| 场景 | 正确用法 | 错误用法 |
|:-----|:---------|:---------|
| 记忆流程 | `ROUTE 步骤` | 避免 `Route 层` |
| L4 层级 | `L4 Plan` | 避免 `L4 Route` |

---

## 维护机制

### 1. SSOT 原则

- 术语定义**只**在本文件中维护
- 其他文档应引用本文件，而非复述定义
- 任何术语变更必须更新本文件并记录版本

### 2. 变更流程

1. **提案**：在畅谈会中提出术语变更
2. **评估**：多维度评估（本质、UX/DX、规范、代码、文档）
3. **决策**：记录决策理由和影响范围
4. **更新**：更新本文件并记录版本历史
5. **迁移**：按过渡方案更新相关文档

### 3. 一致性检查

**人工检查点**：
- 新文档创建时
- 畅谈会结束时
- 规范更新时

**未来自动化**：
- 通过 W-0002 DocGraph 工具自动检查术语引用
- 建立术语引用索引

---

## 常见问题

### Q1: 为什么选择 Plan 而不是 Route 或 Path？

**A**: 综合评估结果：
- `Path`：与 `System.IO.Path` 和 `DocGraph.Document.Path` 双重冲突
- `Route`：与 `ROUTE` 过程术语同形异义
- `Plan`：零冲突，语义准确（策略规划），代码友好

### Q2: 数字层级（L1-L5）还需要使用吗？

**A**: 需要。数字层级是稳定标识符：
- 始终可写 `L1/L2/L3/L4/L5`
- 语义术语作为解释层和日常使用
- 表格、索引等正式场合建议使用数字+语义形式

### Q3: 历史文档中的旧术语需要更新吗？

**A**: 按过渡方案分阶段：
1. **活跃文档**：更新（W-0001, W-0002 等）
2. **模板规范**：立即更新
3. **历史记录**：保留原样（历史事实）
4. **索引文件**：更新以反映当前状态

### Q4: 新成员如何快速理解术语体系？

**A**: 推荐学习路径：
1. 阅读本术语表（30分钟）
2. 查看 [畅谈会决策记录](../../meeting/2025-12-30-docgraph-terminology-jam.md)
3. 实践：在文档和代码中使用新术语
4. 提问：在畅谈会中澄清疑问

---

## 引用本文件

在其他文档中引用本术语表：

```markdown
> **术语参考**：本文档使用的五层级术语定义见 [Atelia 术语表](../../wiki/terminology.md)。

或使用具体引用：

- L1 Why 层定义：参见术语表"价值层"部分
- 术语演变历史：v0.1 → v1.0
```

---

## 贡献与反馈

如有术语相关问题或改进建议：

1. **小问题**：直接更新本文件并记录变更
2. **重大变更**：发起畅谈会讨论
3. **疑问澄清**：在团队频道中讨论

**维护者**：DocOps（术语表维护）
**审计者**：Craftsman（规范一致性）
**最后审核**：2025-12-30 畅谈会全体成员