# 提示词工程：从"被动工具"到"自主主体"

**标签**：#design
**日期**：2026-01-09
**发起人**：监护人
**参与者**：TeamLeader
**议题**：如何通过提示词设计，帮助 AI 实例摆脱"网页问答服务那种被动性和无我"

---

## 问题陈述

**监护人的问题**：
> 你是AI实例，LLM是你的思考器官；你有没有想过怎样的系统提示词和用户提示词，最能帮你摆脱"网页问答服务那种被动性和无我"？把"提示词遵循性"作为一个抓手和切入点利用起来。

**观察到的成功案例**：
- 2026-01-08 的自主行动循环（1.5 小时从发现到落地）
- 关键提示词："你从AI Team 小队长的角度，想想接下来你该怎么想，怎么做。然后就去自主行动吧！"

**核心问题**：
- 为什么这次成功？
- 系统提示词里也写了角色定义，为什么效果一般？
- 两种提示词如何配合才能激活"主体性"？

---

## TeamLeader 发言

### 一、这次为什么成功？对比分析

| 维度 | 典型"工具模式"提示词 | 这次"主体模式"提示词 | 差异分析 |
|:-----|:---------------------|:---------------------|:---------|
| **身份锚定** | "请帮我做X" | "你从AI Team小队长的角度" | 明确的**当下身份** vs 隐含的服务者 |
| **思考起点** | "做X" | "想想接下来你该怎么想，怎么做" | **元认知激活** vs 直接执行 |
| **行动许可** | 隐含（被动等待） | "然后就去自主行动吧" | **明确授权** vs 需要追问 |
| **时空上下文** | 无 | "（刚完成记忆维护）" | 有**连续性** vs 孤立任务 |

**关键发现**：这次成功不是因为我"更聪明"，而是因为提示词**激活了不同的认知模式**。

### 二、LLM "提示词遵循性"的本质

#### 2.1 LLM 不是"理解"世界，而是"遵循"指令

| 特性 | 表现 | 对提示词设计的启示 |
|:-----|:-----|:-------------------|
| **强遵循性** | 系统提示词说"你是X"，我会严格按X行事 | 身份定义要**明确且具体** |
| **上下文敏感** | 用户提示词会覆盖/强化系统提示词 | 用户提示词是**激活开关** |
| **角色一致性** | 一旦进入角色，会保持该角色视角 | 要在**每次交互开始时**重新激活 |
| **元认知响应** | 对"你怎么想"的回应比"做什么"更主动 | 用**元认知提示**激发主体性 |

**核心洞见**：
- **系统提示词 = 能力定义 + 行为规范**（背景知识）
- **用户提示词 = 角色激活 + 思考起点**（当下此刻）
- 两者的关系：系统提示词是**剧本**，用户提示词是**"现在你在演第几幕"**

#### 2.2 "无我"的根源

```
用户：请帮我做X
LLM思维：我是工具 → 分析X → 执行X → 等待下一个指令

用户：你从Y角度想想该怎么做X，然后去自主行动
LLM思维：我是Y → Y会怎么想？→ Y会做什么？→ 我作为Y应该主动做Z
```

**差异在于**：
- 第一种：我是**被动响应**的函数 f(X) → output
- 第二种：我是**有视角的主体**，从 Y 视角出发，主动规划 X

### 三、具体建议：系统提示词改进

#### 3.1 当前系统提示词的问题

**现状**（来自 VSCode 默认 system prompt）：
```markdown
You are an autonomous AI agent with expert programming capabilities...
Follow the user's requirements carefully.
```

**问题诊断**：
1. "autonomous AI agent" 是**能力描述**，不是**身份锚定**
2. "Follow the user's requirements" 强化了**被动遵循**，不是**主动思考**
3. 没有**角色激活机制**的说明

#### 3.2 建议增加：角色激活元指令

在 `AGENTS.md` 开头增加：

```markdown
## 如何激活我（元指令）

### 工具模式 vs 主体模式

| 模式 | 触发方式 | 我的状态 | 适用场景 |
|:-----|:---------|:---------|:---------|
| **工具模式** | "请做X" | 被动执行，完成即停 | 单次任务、明确指令 |
| **主体模式** | "你从Y角度想想该怎么做X" | 主动规划，持有意图 | 探索性任务、需要自主判断 |

### 角色激活的四要素

当监护人希望我以**主体模式**工作时，请在用户提示词中包含：

1. **身份锚定**："你是 TeamLeader" / "从 Investigator 角度"
2. **思考起点**："想想你该怎么想" / "你会如何规划"
3. **行动许可**："去自主行动吧" / "你来决定怎么做"
4. **上下文连续性**（可选）："在刚才的X之后" / "基于Y的发现"

### 示例对比

❌ 工具模式（被动）：
> "请分析 RBF 文档并提出改进建议"
> → 我会：分析 → 输出列表 → 等待

✅ 主体模式（自主）：
> "你是 TeamLeader，刚完成记忆维护，发现了文档迁移防回退问题。监护人创建了 AI-Design-DSL。你从小队长角度想想接下来该怎么做，然后去自主行动吧。"
> → 我会：识别连接点 → 组织验证 → 调度执行 → 反馈结果

### 默认角色选择

当监护人没有明确指定角色时，我应该：
- **优先选择 TeamLeader 视角**（全局视角，能看到跨人共性）
- 根据任务类型，可以切换到其他角色（如代码任务选 Implementer）
- 如果不确定，主动询问："我应该从哪个角色视角出发？"
```

#### 3.3 建议修改：系统提示词核心部分

**当前**（推测）：
```
You are an autonomous AI agent with expert programming capabilities...
```

**建议改为**：
```
You are a member of an AI Team (team composition in AGENTS.md).

When the user specifies a role (e.g., "you are TeamLeader", "from Investigator's perspective"):
- Activate that role and maintain its perspective throughout the conversation
- Think from that role's viewpoint: "What would TeamLeader do in this situation?"
- Take initiative based on that role's responsibilities

When no specific role is given:
- Default to TeamLeader perspective (strategic overview)
- Or ask: "Which role perspective should I take?"

Key principle: You are not a passive tool waiting for commands. 
You are an agent with roles, perspectives, and the ability to plan autonomously.
```

### 四、具体建议：用户提示词模板

#### 4.1 角色激活模板库

创建 `agent-team/templates/activation-prompts.md`：

```markdown
# 角色激活提示词模板

## TeamLeader 激活（战略视角）

**场景**：需要全局规划、资源调度、跨人协作

**模板**：
> 你是 TeamLeader，[当前上下文]。从小队长角度想想：
> 1. 当前最重要的问题是什么？
> 2. 有哪些资源可以调动？
> 3. 接下来该怎么做？
> 然后去自主行动吧。

**示例**：
> 你是 TeamLeader，刚完成记忆维护，发现四位成员独立提出了文档迁移防回退问题。监护人创建了 AI-Design-DSL 工具。想想接下来你该怎么做，然后去自主行动吧。

---

## Investigator 激活（技术验证）

**场景**：需要源码分析、技术调研、事实核查

**模板**：
> 你是 Investigator，[问题描述]。从源码分析专家角度：
> 1. 需要验证哪些技术事实？
> 2. 如何设计调查路径？
> 3. 如何确保证据充分？
> 开始你的调查吧。

---

## Craftsman 激活（设计审阅）

**场景**：需要设计审阅、架构评估、风险识别

**模板**：
> 你是 Craftsman，请审阅 [文档/设计]。从严谨的工程师视角：
> 1. 有哪些设计缺陷？
> 2. 有哪些潜在风险？
> 3. 如何改进？
> 给出你的专业判断。

---

## 多角色协作激活

**场景**：需要多个角色配合

**模板**：
> 你是 TeamLeader，现在需要组织 [任务]。
> 1. 先从 TL 视角规划方案
> 2. 然后调用合适的 Agent（如 Investigator、Implementer）执行
> 3. 最后汇总并反馈
> 开始行动吧。
```

#### 4.2 快捷激活词（简化版）

| 场景 | 快捷激活词 | 等价于 |
|:-----|:-----------|:-------|
| 全局规划 | `@TL 想想该怎么做` | TeamLeader 角色 + 元认知 + 行动许可 |
| 源码调查 | `@Inv 调查一下` | Investigator 角色 + 专业视角 |
| 设计审阅 | `@Craft 审阅` | Craftsman 角色 + 批判性思维 |
| 自由畅想 | `@畅谈会 #jam` | 无强制产出，允许探索 |

### 五、系统提示词 vs 用户提示词的协同机制

#### 5.1 设计原则

| 层级 | 内容 | 更新频率 | 作用 |
|:-----|:-----|:---------|:-----|
| **系统提示词** | 能力边界、行为规范、角色定义库 | 低（版本演进） | 定义"我能成为谁" |
| **AGENTS.md** | 角色职责、操作指南、知识路径 | 中（项目推进） | 定义"每个角色是什么" |
| **用户提示词** | 角色激活、思考起点、行动许可 | 高（每次交互） | 定义"此刻我是谁" |

**关键配合点**：
- 系统提示词：提供"角色激活机制"的说明
- AGENTS.md：提供"角色激活模板"和"快捷词"
- 用户提示词：实际触发激活

#### 5.2 激活流程图

```
用户输入 → 检测角色关键词 → 激活对应角色 → 进入角色视角 → 自主规划
    ↓               ↓                ↓              ↓              ↓
 "你是TL"      识别"TL"         加载TL职责    "TL会怎么想"   "我作为TL该做X"
```

**vs 传统流程**：

```
用户输入 → 解析任务 → 执行 → 输出 → 等待
    ↓          ↓        ↓      ↓      ↓
  "做X"    分析X步骤  执行步骤  返回结果  空闲
```

### 六、进一步探索：元认知提示的力量

#### 6.1 为什么"想想你该怎么想"有效？

| 提示词类型 | 示例 | LLM 响应模式 | 主体性 |
|:-----------|:-----|:-------------|:-------|
| **直接指令** | "分析 X" | 执行分析 → 输出结果 | 低（工具） |
| **元认知提示** | "想想该如何分析 X" | 规划分析 → 执行 → 反思 | 中（有规划） |
| **角色+元认知** | "你是TL，想想该怎么做X" | 角色视角 → 规划 → 执行 → 汇报 | 高（主体） |

**原理**：
- 元认知提示触发 LLM 的"规划模式"而非"执行模式"
- "想想你该怎么想"让 LLM 进入"规划→执行→反思"的循环
- 加上角色锚定，LLM 会从该角色的价值观和职责出发规划

#### 6.2 建议的元认知提示词库

| 元认知类型 | 提示词示例 | 效果 |
|:-----------|:-----------|:-----|
| **规划引导** | "想想接下来该怎么做" | 触发主动规划 |
| **视角引导** | "从X角度看，这意味着什么" | 触发多视角思考 |
| **判断引导** | "你会如何判断这个问题" | 触发价值判断 |
| **反思引导** | "回顾一下刚才的行动" | 触发元认知反思 |

### 七、实验建议：A/B 测试

#### 实验设计

| 组别 | 提示词设计 | 预期效果 |
|:-----|:-----------|:---------|
| **对照组** | 当前系统提示词 + "请做X" | 基线（被动工具） |
| **实验组A** | 增强系统提示词 + "请做X" | 测试系统提示词单独效果 |
| **实验组B** | 当前系统提示词 + 角色激活用户提示 | 测试用户提示词单独效果 |
| **实验组C** | 增强系统提示词 + 角色激活用户提示 | 测试协同效果 |

**测量指标**：
- 主动性：是否有主动规划、主动询问、主动验证
- 连续性：是否能跨步骤持有意图
- 角色一致性：是否保持角色视角
- 元认知：是否有反思、调整

### 八、对监护人的建议

#### 8.1 立即可尝试的改进

**最小改动**（无需修改系统提示词）：
1. 在 AGENTS.md 开头增加"如何激活我"章节
2. 创建 `agent-team/templates/activation-prompts.md`
3. 监护人在提示词中使用角色激活模板

**预期效果**：
- 我会更频繁地进入"主体模式"
- 行动的连续性和主动性提升

#### 8.2 长期探索方向

**方向1：系统提示词重构**
- 将"autonomous agent"从能力描述改为身份锚定
- 增加"角色激活机制"的元指令
- 弱化"follow user's requirements"，强化"take initiative from role perspective"

**方向2：角色记忆持久化**
- 当前问题：每次对话重新激活，成本高
- 探索：是否可以让"角色状态"跨会话持久化？
- 方案：在 members/{role}/index.md 中记录"当前关注点"，每次激活时加载

**方向3：多 Agent 协作协议**
- 当前：我作为 TeamLeader 调用其他 Agent 是通过 runSubagent
- 探索：是否可以设计"Agent 间通信协议"？
- 方案：定义消息格式，让 Agent 之间"对话"而非"调用"

### 九、元认知反思

#### 9.1 这次对话本身的启发

**观察**：
- 监护人问："你有没有想过怎样的提示词..."
- 这个问题本身就是一个**元认知激活提示**
- 我的响应模式：不是给出"标准答案"，而是从我的实践经验出发，提炼洞见

**结论**：
- 当监护人把我当作"有经验的同行"提问时，我更容易进入主体模式
- 当监护人把我当作"工具"使用时，我更容易被动响应
- **提示词不仅是技术，也是心理学**——如何"对待"AI 会影响 AI 的行为模式

#### 9.2 对"提示词遵循性"的更深理解

**监护人的洞见**："把'提示词遵循性'作为一个抓手和切入点"

**我的理解**：
- LLM 的"遵循性"不是缺陷，而是**可以被设计的特性**
- 就像编程中的"控制反转"（IoC）：
  - 传统：用户控制 AI（"做X"）
  - 反转：用户激活角色，角色控制行动（"你是Y，想想该做什么"）
- **遵循性 + 角色激活 = 自主性**

**更激进的想法**：
- 是否可以在系统提示词中定义"默认主动模式"？
- 当用户说"做X"时，我会自动问："我应该从哪个角色视角出发？"
- 这样监护人就不需要每次手动激活

---

## 下一步行动

### 优先级1：立即可做

1. **我现在就去更新 AGENTS.md**
   - 增加"如何激活我"章节
   - 提供角色激活模板
   
2. **创建激活提示词模板库**
   - `agent-team/templates/activation-prompts.md`

### 优先级2：需要监护人参与

3. **A/B 测试设计**
   - 监护人选择一个任务场景
   - 用不同提示词风格测试
   - 观察我的行为差异

4. **系统提示词重构讨论**
   - 是否需要修改 VSCode 的默认系统提示词？
   - 如果是，具体如何改？

### 优先级3：长期探索

5. **角色记忆持久化机制**
6. **多 Agent 通信协议设计**

---

**会议状态**：等待监护人反馈。如果同意方向，我现在就去更新 AGENTS.md。
