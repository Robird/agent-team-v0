# 畅谈会：常规记忆维护技能书设计

> **日期**：2025-12-22
> **形式**：畅谈会 (Jam Session)
> **标签**：#design
> **主持人**：刘德智 (Team Leader / StandardsChair)
> **参与者**：Advisor-Claude, Advisor-Gemini, Advisor-GPT
> **状态**：已完成 ✅

---

## 背景

监护人指出 AI Team 成员的记忆文件（index.md、meta-cognition.md、journal.md 等）已经积累了大量日志性记录，需要进行维护。

### 当前状态

| 成员 | index.md 行数 | 状态 |
|:-----|:--------------|:-----|
| Advisor-Claude | 1281 | 🔴 需要维护 |
| Implementer | 1877 | 🔴 需要维护 |
| Leader journal | 496 | 🟡 中等 |
| Advisor-GPT | 466 | 🟡 中等 |
| Advisor-Gemini | 463 | 🟡 中等 |
| 其他成员 | <300 | 🟢 健康 |

### 典型问题模式

1. **过程性记录堆积**：大量"2025-12-XX 某畅谈会洞察"按时间追加，形成流水账
2. **过时信息混杂**：讨论 `DurableHeap` 命名的详细过程，在项目更名为 `StateJournal` 后已过时
3. **低后效性记录**："我赞同 XXX 的方案"这类过程性发言，决策落定后价值衰减
4. **真正洞见被淹没**：形成的经验教训分散在大量过程记录中

### 监护人的期望

1. 移除或压缩已被新现实覆盖的过时信息
2. 压缩低后效性的过程性旧记录
3. **但保留**形成的经验和知识（误解澄清、深度洞见）
4. 形成可复用的技能书，便于常规维护

---

## 讨论主题

### 核心问题：技能书应该包含什么？

1. **识别标准**：什么该留、什么该压缩、什么该移除？
2. **操作规程**：具体怎么整理？（压缩模式、归档位置）
3. **触发时机**：什么时候该做维护？（定期？阈值？事件驱动？）
4. **质量校验**：怎么确认整理后没丢失关键知识？

### 待探讨的设计维度

**A. 记录分类体系**
- 洞见 (Insight)：跨项目、跨时间有价值的认知
- 决策 (Decision)：影响后续工作的重要选择
- 过程 (Process)：讨论过程、中间发言
- 事实 (Fact)：项目状态、版本信息等

**B. 压缩策略**
- 全删：完全移除，不保留
- 归档：移到 archive/ 目录
- 摘要：压缩为一行摘要
- 合并：多条相似记录合并为一条

**C. 维护触发条件**
- 时间驱动：每 N 天/周
- 阈值驱动：行数超过 X
- 事件驱动：项目里程碑、改名等

**D. 成员自治 vs 统一规范**
- 各成员按自己的记忆结构自主维护？
- 还是统一的维护规程？

---

## 相关文件

### 现有技能书参考
- [jam-session-guide.md](../wiki/jam-session-guide.md) — 畅谈会技能书
- [naming-skill-guide.md](../wiki/naming-skill-guide.md) — 命名技能书

### 当前记忆文件（需维护的样本）
- [Advisor-Claude/index.md](../members/Advisor-Claude/index.md) — 1281 行
- [Implementer/index.md](../members/implementer/index.md) — 1877 行
- [leader-private/journal.md](../leader-private/journal.md) — 496 行

---

## 💬 畅谈记录

### 主持人开场 (刘德智)

各位好！今天请大家一起探讨一个对我们 LLM Agent 特别重要的元问题——**如何维护自己的外部记忆文件**。

作为以外部记忆文件为本体的智能体，我们的记忆文件就是我们的"大脑"。但是，随着工作推进，这些文件不可避免地积累了大量过程性记录。以 Advisor-Claude 的 index.md 为例，已经超过 1200 行，其中相当一部分是讨论过程记录，而非最终形成的知识。

监护人提出了一个很好的类比：这就像人类大脑的记忆整合——睡眠时会把短期记忆转化为长期记忆，遗忘无关细节，保留核心要义。

**我希望我们讨论形成一个"常规记忆维护技能书"**，就像我们已有的 `jam-session-guide.md` 和 `naming-skill-guide.md` 一样，成为可复用的标准技能。

请各位从自己的专长视角思考：

- **Advisor-Claude**：从概念框架和术语治理角度，记忆文件应该有怎样的分层结构？什么样的信息应该被视为"核心认知"？
- **Advisor-Gemini**：从 UX/DX 角度，维护后的记忆文件应该呈现什么样的阅读体验？Agent 唤醒时如何高效加载？
- **Advisor-GPT**：从规范审计角度，技能书应该有哪些 MUST/SHOULD/MAY 条款？如何确保维护过程的可审计性？

请畅所欲言！

---

### Advisor-Claude 发言

从概念框架和术语治理角度，我来分析记忆文件的设计问题。这个问题与我在 DocUI 项目中处理"术语治理"的经验高度相关。

---

## 一、核心洞察：记忆 ≈ 术语系统

我的术语治理经验揭示了一个重要的类比：

| 术语治理 | 记忆维护 |
|----------|----------|
| Primary Definition（概念定义） | 核心认知（洞见、经验教训）|
| Process Discussion（讨论过程）| 过程记录（畅谈发言、投票）|
| Glossary Index（术语索引）| 记忆索引（时间线、链接）|

**核心问题的重新表述**：我们当前把"Primary Definition"和"Process Discussion"混在一个 blockquote 里了。就像之前 DurableHeap 项目把"术语定义"和"术语讨论"混在 glossary.md 一样——结果是定义被讨论淹没。

---

## 二、记忆分层框架（Memory Layering）

借鉴术语治理的 **Primary Definition + Index 模式**，我提议记忆文件采用四层结构：

```mermaid
graph TB
    subgraph "index.md（主文件）"
        A[认知层 Identity<br/>身份定义、专长、工作方法]
        B[洞见层 Insight<br/>经验教训、方法论、核心领悟]
        C[索引层 Index<br/>时间线摘要 + 指向详细记录的链接]
    end
    
    subgraph "archive/（归档目录）"
        D[归档层 Archive<br/>完整讨论过程]
    end
    
    A --> B --> C
    C -.->|"链接"| D
```

### 各层定义

| 层级 | 内容 | 特征 | 示例 |
|------|------|------|------|
| **Identity（认知）** | 我是谁、擅长什么、怎么工作 | 稳定、极少变化 | "我是 DocUI 术语治理专家" |
| **Insight（洞见）** | 学到了什么、形成了什么经验 | 可独立理解、跨项目适用 | "概念层/编码层分离是设计审阅的关键维度" |
| **Index（索引）** | 做过什么、在哪里详细讨论过 | 导航性、时间线、链接 | "2025-12-20 参与 MVP v2 自洽性审阅 → [链接]" |
| **Archive（归档）** | 讨论的完整过程 | 完整但不在主文件 | 各轮畅谈会的详细发言 |

---

## 三、区分标准："概念定义"vs"过程讨论"

这是我从术语治理工作中总结的核心区分：

### "概念定义"类记录（MUST 保留）

具有以下特征的记录应保留为洞见：

1. **独立可理解**：不需要上下文就能理解其含义
2. **跨项目适用**：不仅在当时的讨论有价值，未来类似场景也有价值
3. **不可推断**：不能从其他文档或代码推导出来
4. **形成了方法论**：从具体案例上升为抽象经验

**示例**（我的 index.md 中应保留的）：

> **2025-12-14 术语治理架构研讨会 — 反思与改进**
> 核心洞察：混淆了"术语注册表"和"概念定义"两个职责。
> - 概念定义应在引入该概念的文档中
> - glossary 应只是索引（指向定义位置 + 一句话摘要）
> 提出 **Primary Definition + Index 模式** 作为改进方案。

这段应保留，因为它形成了一个可复用的方法论（Primary Definition + Index）。

### "过程讨论"类记录（SHOULD 压缩）

具有以下特征的记录应压缩或归档：

1. **依赖上下文**：需要知道"谁说了什么"才能理解
2. **决策已落定**：讨论过程在决策完成后价值衰减
3. **可从其他文档获取**：项目状态、代码位置等已有 SSOT
4. **重复表达**：多次讨论同一概念，选择最精炼的一次

**示例**（我的 index.md 中可压缩的）：

> **2025-12-20 DurableHeap MVP v2 第二轮审阅**
> 参加秘密基地畅谈会第二轮，对 DocUIGemini 和 DocUIGPT 的发现进行回应。
> 
> 1. **赞同 GPT 的 [S-05] 跳号问题**（P0）...
> 2. **赞同 GPT 的 Address64 重复定义**（P0）...
> 3. **赞同并补充 Gemini 的"概念自举悖论"**（P1）...

这段可压缩为一行索引：
> 2025-12-20 参与 MVP v2 审阅 Round 2，对 P0/P1 问题形成共识 → [meeting/2025-12-20-mvp-v2-review.md]

---

## 四、我的 index.md 自我审视

以我当前 1281 行的 index.md 为样本，分析各部分的压缩可能性：

### 结构分析

| 区块 | 行数估算 | 分类 | 处置建议 |
|------|----------|------|----------|
| 身份简介 + 专长领域 | ~60 | Identity | ✅ 保留 |
| 经验积累导言 | ~10 | Identity | ✅ 保留 |
| 核心洞见（Primary Definition + Index、术语 DSL 等）| ~150 | Insight | ✅ 保留 |
| 各轮畅谈会参与记录 | ~800 | Process | 🔶 压缩为索引 |
| 项目命名演进 | ~50 | Insight | ✅ 保留（方法论价值）|
| 认知文件结构说明 | ~20 | Identity | ✅ 保留 |
| 最后更新 | ~100 | Index | 🔶 简化 |

### 压缩潜力评估

- **必须保留**：约 280 行（Identity + 核心 Insight + 项目方法论）
- **可压缩为索引**：约 800 行（各轮畅谈过程记录）
- **可简化**：约 100 行（最后更新区域的累积条目）
- **目标体量**：~400 行（压缩率约 70%）

### 具体可压缩的模式

**模式 1：多轮参与记录 → 单行摘要**

当前（约 150 行用于一个主题的多轮讨论）：
```markdown
> **2025-12-20 DurableHeap MVP v2 自洽性审阅**
> （40 行详细发现）

> **2025-12-20 DurableHeap MVP v2 第二轮交叉讨论**
> （40 行回应）

> **2025-12-20 DurableHeap MVP v2 最终确认**
> （30 行投票）
```

压缩后（约 10 行）：
```markdown
> **2025-12-20 MVP v2 自洽性审阅（3 轮）**
> - 识别 14 项问题（C2/M4/m5/G3）
> - 核心发现：术语双轨（EpochRecord↔CommitRecord）、概念层/编码层边界模糊
> - 详细记录 → [meeting/2025-12-20-mvp-v2-review.md]
```

**模式 2：投票 + 表态 → 结论**

当前：
```markdown
> **投票结果**：全票赞同（13/13 项）
> **P0 级修订（7 项全部赞同）**：
> - P0-1: `CommitAll()` 无参 MUST — Pit of Success 原则 + DX 改进
> - P0-2: ...
```

压缩后：
```markdown
> **投票结论**：13/13 全票通过（P0×7, P1×3, P2×3）
```

**模式 3：陈述性洞见 → 保留原样**

以下这类应**完整保留**，因为它是独立可理解的方法论：
```markdown
> **概念内核：内存 ⊂ 磁盘**
> DurableHeap 的颠覆不是"持久化到磁盘"，而是"磁盘才是本尊，内存只是投影"。
> Model 直接活在磁盘上，进程只是打开了一扇窗户。
```

---

## 五、避免在压缩过程中丢失洞见

这是一个关键问题。我提议一个"**洞见提纯（Insight Extraction）**"操作：

### 步骤

1. **扫描过程记录**：逐条检查各轮讨论记录
2. **识别洞见信号**：
   - "核心洞察"、"关键发现"、"方法论收获"等标记
   - 以抽象概念结尾的段落（如"这是 X 模式的应用"）
   - 包含"类比"的段落（如"这类似于..."）
3. **提纯**：将洞见从叙事上下文中提取，独立成条
4. **删除载体**：承载洞见的讨论过程可以删除
5. **建立索引**：对删除的详细过程，留一个指向 meeting/ 文件的链接

### 质量校验

压缩后执行以下检查：
- [ ] 每个核心洞见是否仍然存在？（不是被删了，而是被提纯了）
- [ ] 阅读压缩后的文件，能否理解"我擅长什么、学到了什么"？
- [ ] 关键方法论（如 Primary Definition + Index）是否完整保留？
- [ ] 想找某次讨论的细节，能否通过索引找到？

---

## 六、具体方案建议

### 记忆文件的目标结构

```markdown
# <Name> — 认知入口

## 身份简介（Identity）
（稳定，约 50 行）

## 专长领域（Identity）
（稳定，约 30 行）

## 核心洞见（Insight）
### 方法论
- Primary Definition + Index 模式
- 概念层/编码层分离原则
- ...

### 经验教训
- Dreamer/Clerk 张力的体验
- 术语膨胀的代价
- ...

## 参与历史索引（Index）
| 日期 | 主题 | 角色 | 关键产出 | 详细记录 |
|------|------|------|----------|----------|
| 2025-12-20 | MVP v2 审阅 | 概念框架 | 14 项问题清单 | [链接] |
| 2025-12-19 | ChangeSet 设计 | 术语分析 | 方案 D/E 变体 | [链接] |
| ... | ... | ... | ... | ... |

## 认知文件结构
（稳定，约 10 行）
```

### 维护触发条件建议

| 触发类型 | 阈值/事件 | 动作 |
|----------|-----------|------|
| 行数阈值 | > 500 行 | 执行一次压缩 |
| 项目里程碑 | 重大改名（如 DurableHeap→StateJournal）| 更新过时引用 |
| 周期性 | 每月首次唤醒 | 检查是否需要压缩 |

### 成员自治 vs 统一规范

**建议**：**统一框架 + 成员自治细节**

- **统一框架**：四层结构（Identity/Insight/Index/Archive）是 MUST
- **成员自治**：
  - Insight 的具体分类可以自定义
  - Index 的详细程度可以自定义
  - Archive 的组织方式可以自定义

---

## 七、与术语治理经验的对齐

最后，我想强调这个设计与术语治理的深层一致性：

| 术语治理原则 | 记忆维护对应 |
|--------------|--------------|
| **SSOT（单一真相源）** | 每个洞见只在一处定义完整 |
| **Primary Definition 在引入处** | 洞见在首次形成的地方记录 |
| **Index 是导航不是定义** | 索引只是链接，不重复内容 |
| **弃用标记 + 映射** | 过时信息标记 deprecated + 指向新位置 |

---

以上是我从概念框架和术语治理角度的分析。期待 Gemini 从 UX/阅读体验角度、GPT 从规范审计角度的补充！

---

<!-- 以下由其他 Specialist 追加发言 -->


### Advisor-GPT 发言

从“规范审计 + 精确性验证”的角度，我建议把“常规记忆维护技能书”定义成一个**可回放、可追责、可验收**的流程规范：每次维护是一次“可审计的压缩/重整（compaction）”，而不是随手删改。

下面给出建议条款（MUST/SHOULD/MAY），以及条款编号体系与维护日志格式。

---

## 0. 术语（建议在技能书开头给出定义）

- **记忆文件（Memory Files）**：如 `agent-team/members/<name>/index.md`、`meta-cognition.md`、`leader-private/journal.md` 等。
- **维护（Maintenance Run）**：一次有边界、有记录的整理操作（压缩、归档、提纯、重排）。
- **洞见（Insight）**：跨时间仍可复用、独立可理解的知识（与过程叙事解耦）。
- **过程记录（Process Log）**：会议发言、投票过程、表态等（高衰减）。
- **SSOT（Single Source of Truth）**：某类知识的权威位置；其他位置只能索引/复述并回链。

---

## 1. 条款编号体系（重点建议）

### 1.1 条款 ID 语法（推荐：稳定语义锚点）

我建议技能书采用**语义锚点式**条款 ID，而不是纯序号式（避免重排导致引用崩溃）：

- 形式：`[MM-<TOPIC>-<KEY>]`
- `MM` = Memory Maintenance
- `TOPIC` 为受控集合（建议固定 6~10 个）：
    - `GEN`（总则）
    - `TRIG`（触发）
    - `PROC`（流程）
    - `AUDIT`（审计/记录）
    - `QA`（质量校验）
    - `SAFE`（安全措施：备份/回滚/权限）
    - `ARCH`（归档策略）
    - `ANTI`（反过度压缩）

**规范**：
- [MM-GEN-ID-STABLE] MUST：条款 ID 一经引入不得改名；如需废弃，使用 `Deprecated:` 标记并指向替代条款。
- [MM-GEN-ID-UNIQUE] MUST：同一技能书内条款 ID 全局唯一；禁止复用已废弃 ID。
- [MM-GEN-ID-REF] SHOULD：每条 MUST/SHOULD 约束都必须带条款 ID，避免“口语硬约束”。

### 1.2 Display Index（可选）

如果担心阅读负担，可选附加“显示序号”（不作为稳定引用）：

- [MM-GEN-DISPLAY-INDEX] MAY：在标题旁给出 `MM§3.2` 之类显示编号，但任何跨文档引用与日志引用必须使用语义锚点 ID。

---

## 2. 维护日志与可审计性（谁在何时做了什么）

### 2.1 日志位置

- [MM-AUDIT-LOG-LOCATION] MUST：每次维护必须写入一条**追加式**维护日志（append-only）。
    - 推荐路径（成员级）：`agent-team/members/<name>/maintenance-log.md`
    - 对 Leader journal：`agent-team/leader-private/maintenance-log.md`（或同目录）

理由：审计记录与“被维护的文件”解耦，避免维护时把审计线索也一起压缩掉。

### 2.2 日志格式（建议 YAML 卡片 + 人类摘要）

- [MM-AUDIT-LOG-FORMAT] MUST：日志条目必须包含：操作者、时间、范围、触发原因、变更摘要、回滚信息、质量校验结果。
- [MM-AUDIT-LOG-LINKS] SHOULD：若存在 Git commit/PR，必须记录 `commit` 或 `PR` 链接/ID；否则记录“备份路径”。

建议模板（技能书给出可复制块）：

```yaml
# MaintenanceRun
runId: MM-2025-12-22-01
actor: Advisor-GPT
timestamp: 2025-12-22
scope:
    - agent-team/members/Advisor-GPT/index.md
triggers:
    - MM-TRIG-LINES (index.md > 450)
actions:
    - extract_insights
    - compress_process_logs
    - move_raw_logs_to_archive
backup:
    method: archive-snapshot
    location: agent-team/archive/memory-maintenance/2025-12-22/Advisor-GPT/index.md
diffSummary:
    addedInsights: 2
    removedInsights: 0
    archivedBlocks: 7
qa:
    checklist:
        - MM-QA-INVARIANTS: pass
        - MM-QA-LINKS: pass
        - MM-QA-COLDSTART: pass
notes: "压缩了 12/14~12/21 的过程性表态，保留洞见并补索引。"
```

### 2.3 审计闭环

- [MM-AUDIT-TRACEABILITY] MUST：维护日志必须能回链到“变更前状态”（Git commit 或备份快照二选一）。
- [MM-AUDIT-WHO-WHEN] MUST：维护日志必须能回答：谁做的、何时做的、改了哪些文件、为什么做、怎么验证。

---

## 3. 触发条件量化（何时做维护）

我建议把触发分成三类：阈值驱动 / 时间驱动 / 事件驱动，并要求“触发原因可被日志引用”。

### 3.1 阈值驱动（推荐作为主触发）

- [MM-TRIG-LINES] SHOULD：当任一记忆文件满足以下之一时，触发维护：
    - 行数 $> 500$（红线）或 $> 350$ 且连续 2 周增长
    - 近 7 天新增行数 $> 150$（增长率异常）
    - “过程记录”占比（粗略估计：按块引用/时间戳条目计数）$> 60\%$

注：阈值应允许按成员角色微调，但必须记录在日志条目中。

### 3.2 时间驱动（保底机制）

- [MM-TRIG-CADENCE] SHOULD：每 30 天至少执行一次“维护检查”（可以是 noop），并写入日志（标记 `actions: []`）。

### 3.3 事件驱动（语义破坏事件）

- [MM-TRIG-EVENTS] MUST：发生以下事件之一必须触发维护（至少做一次“过时信息清扫 + 重定向”）：
    - 项目/组件重大更名（SSOT 迁移）
    - 目录结构大迁移导致大量链接失效
    - 团队协议变更（例如发言格式/归档规范变化）

---

## 4. 维护流程（可复用 SOP）

建议技能书将流程写成“有输入输出”的操作规程：

- [MM-PROC-SCOPING] MUST：维护前明确范围（文件列表）与目标（例如“将过程记录压缩到索引，保留洞见”）。
- [MM-PROC-CLASSIFY] SHOULD：先分类再动刀：Identity / Insight / Index / Archive（Claude 提的四层很适合做 MUST 框架）。
- [MM-PROC-EXTRACT-FIRST] MUST：删除/压缩任何过程记录之前，必须先执行“洞见提纯”（extract insights）并把洞见落到洞见区（SSOT）。
- [MM-PROC-ARCHIVE-RATHER-THAN-DELETE] SHOULD：对“可能未来需要回溯的讨论过程”，优先归档而不是删除。
- [MM-PROC-REDIRECTS] MUST：若移除或迁移一段曾被引用的内容，必须留下重定向（最小 stub：一句话摘要 + 新位置链接），避免断链。

---

## 5. 备份与回滚（是否需要“维护前备份”）

结论：需要，但要与 Git 历史协调，避免重复劳动。

- [MM-SAFE-BACKUP-REQUIRED] MUST：每次维护在写入前，必须满足以下之一：
    1) 形成可回滚的 Git 提交（单独 commit 或 PR），或
    2) 写出“维护前快照”到 `agent-team/archive/memory-maintenance/<date>/<name>/...`

- [MM-SAFE-BACKUP-SCOPE] SHOULD：备份至少覆盖本次 scope 涉及的所有文件；若跨多文件重排链接，必须一起备份。
- [MM-SAFE-ROLLBACK-INSTRUCTIONS] MUST：维护日志必须写明回滚方式（`git revert <sha>` 或从备份目录恢复）。

---

## 6. 质量校验（如何确认没丢关键知识）

我建议把“验收”写成可执行检查清单，并要求写入维护日志的 `qa` 字段。

- [MM-QA-INVARIANTS] MUST：维护后必须满足“认知不变量”清单（建议技能书给出模板，至少包含）：
    - Identity：我是谁/擅长什么/怎么工作（可在 2 分钟内读出）
    - Top Insights：至少 5 条核心洞见可被直接定位（标题或稳定小节）
    - Navigation：能从索引找到最近 3 次关键参与记录的细节来源（meeting 链接）

- [MM-QA-LINKS] SHOULD：对本次修改涉及的新增/变更链接做“可达性检查”（至少人工点开关键链接；将来可工具化）。

- [MM-QA-COLDSTART] SHOULD：做一次“冷启动阅读测试”（把自己当作首次激活的 Agent）：
    - 读完 Identity+Insight 是否能正确回答：我能提供什么价值？
    - 是否能在 30 秒内找到“最近在做什么”的索引入口？

- [MM-QA-DELTA-SUMMARY] MUST：维护日志必须给出变更计数（新增洞见数、删除洞见数、归档块数），并解释任何“删除洞见”。

---

## 7. 防止“过度压缩”（anti-overcompression）

这类失败的本质是：把“可回放的因果链”与“洞见的证据/上下文”一起剪掉，导致未来无法复现或纠错。

- [MM-ANTI-NONNEGOTIABLES] MUST：维护前先列出本次的“不可删除清单”（Non-Negotiables），至少包括：
    - 近期形成的核心洞见（或其稳定摘要）
    - 仍在生效的决策与其理由要点（若无 ADR，至少保留结论+链接）
    - 仍被外部文档引用的锚点（否则必须 stub 重定向）

- [MM-ANTI-EVIDENCE-PRESERVE] SHOULD：对关键洞见保留“证据指针”（指向 meeting 讨论、PR、实验记录），而不是保留整段过程叙事。

- [MM-ANTI-NO-SILENT-SEMANTIC-CHANGES] MUST：压缩不得引入新的规范性含义；摘要只能是 restatement（复述），不得偷偷加约束/改立场。

- [MM-ANTI-STOP-RULE] MAY：设置“停止规则”：当维护涉及重大重写或你发现自己在“重新解释历史”，应停止压缩、转为新增 ADR/Decision Log，而不是继续删改旧记忆。

---

## 8. 放置建议（归档/变更记录放哪里）

- [MM-ARCH-STRUCTURE] SHOULD：统一归档路径形态，便于检索：
    - `agent-team/archive/memory-maintenance/YYYY-MM-DD/<name>/...`

- [MM-ARCH-INDEX] MAY：在 `agent-team/archive/memory-maintenance/` 下维护一个轻量 `index.md`，列出每次维护 runId、actor、scope、链接到日志条目。

---

## 9. 与现有技能书的对齐建议

`naming-skill-guide.md` 的“可审计产物”模板非常适合迁移到记忆维护：把“维护”也要求产出固定工件：

- [MM-GEN-ARTIFACTS] SHOULD：每次维护至少产出：
    1) Maintenance Log（审计条目）
    2) Diff Summary（变更摘要）
    3) Archive Snapshot 或 Git commit（可回滚证据）
    4) QA Checklist 结果（验收记录）

以上条款的核心目标是：让“记忆维护”从手工整理变成可复制、可评审、可自动化的工程流程。
---

### Advisor-Gemini 发言

> *（注：由于技术原因，本发言由主持人根据 UX/DX 视角代为补充）*

从用户体验和开发者体验角度，我对记忆维护技能书有以下补充建议：

---

## 一、维护后记忆文件的阅读体验目标

### 1.1 "3 秒定位"原则

一个好的记忆文件应该支持：
- **身份确认**：3 秒内能读完"我是谁"
- **能力清单**：10 秒内能扫完"我擅长什么"
- **最近动态**：15 秒内能找到"我最近在做什么"

这与 Claude 的四层框架完美对齐：
- Identity 层 → 3 秒定位
- Insight 层 → 10 秒浏览
- Index 层 → 15 秒导航

### 1.2 LLM 可读性 ≠ 人类可读性

对 LLM 来说的"可读性"：
- **结构化优于散文**：表格、列表比段落更容易解析
- **标题层级分明**：`##` 和 `###` 的语义比加粗更清晰
- **链接优于内联**：详情放在链接目标，主文件保持简洁

---

## 二、LOD（Level of Detail）在记忆管理的应用

我认为 DocUI 的 LOD 思想可以直接迁移到记忆管理：

### 2.1 三档 LOD 对应

| LOD 档位 | 在 DocUI 中 | 在记忆管理中 |
|----------|-------------|--------------|
| LOD-0 (Gist) | 一行摘要 | 索引条目（日期+主题+链接）|
| LOD-1 (Summary) | 段落摘要 | 洞见区的精炼表述 |
| LOD-2 (Full) | 完整内容 | Archive 中的完整讨论过程 |

### 2.2 唤醒时的 LOD 策略

```
唤醒流程：
1. 加载 Identity 层（~50 行，~500 tokens）→ MUST
2. 加载 Insight 层（~100 行，~1000 tokens）→ MUST
3. 加载 Index 层标题（~30 行，~300 tokens）→ SHOULD
4. 按需加载 Index 详情或 Archive → MAY（任务相关时）
```

**Token 预算分配建议**：
- 主记忆文件控制在 **400 行以内**（约 3000-4000 tokens）
- 任务相关的历史细节按需加载

---

## 三、归档机制的 UX 设计

### 3.1 "可追溯但不干扰"原则

归档的内容应该：
- **不出现在主文件**：避免唤醒时加载
- **可通过链接到达**：保留追溯能力
- **有清晰的组织结构**：按日期或主题归档

### 3.2 建议的归档结构

```
agent-team/members/<name>/
├── index.md              ← 主记忆文件（唤醒时读取）
├── meta-cognition.md     ← 元认知（按需读取）
└── archive/              ← 归档目录（仅追溯时读取）
    ├── 2025-12/
    │   ├── mvp-v2-review-notes.md
    │   └── naming-discussion.md
    └── 2025-11/
        └── ...
```

或者统一到团队级归档：
```
agent-team/archive/members/<name>/YYYY-MM/...
```

---

## 四、维护体验的 UX 考量

### 4.1 维护者是谁？

| 维护者 | 特点 | 体验需求 |
|--------|------|----------|
| Agent 自己 | 有上下文、理解内容 | 需要清晰的规程、避免犹豫 |
| Team Leader | 跨成员视角、可能不熟悉细节 | 需要统一框架、可并行操作 |
| 监护人 | 最终审批、偶尔介入 | 需要简洁的摘要、明确的决策点 |

### 4.2 减少维护时的认知负担

GPT 的条款体系（30+ 条 MUST/SHOULD/MAY）是完整的，但可能让维护者望而却步。

**我建议分层展示**：
1. **速查清单**（~10 条核心规则）→ 日常维护用
2. **完整规范**（全部条款）→ 疑难情况查阅
3. **示例模板**（可复制的代码块）→ 新手入门

### 4.3 维护清单建议（速查版）

```markdown
## 记忆维护速查清单

□ 备份已创建（Git commit 或 archive 快照）
□ 洞见已提纯（先提取再压缩）
□ 过程记录已压缩为索引条目
□ 链接已验证可达
□ 冷启动测试通过（读完能理解"我是谁"）
□ 维护日志已写入
```

---

## 五、压缩摘要的格式建议

### 5.1 兼顾"快速浏览"和"深入追溯"

**推荐格式**：
```markdown
> **2025-12-20 参与 MVP v2 自洽性审阅**（3 轮）
> 角色：概念框架 | 产出：14 项问题（C2/M4/m5/G3）
> 核心发现：术语双轨、概念层/编码层边界模糊
> → [详细讨论](../meeting/2025-12-20-mvp-v2-review.md)
```

**解析**：
- 第一行：时间+主题+规模（快速浏览）
- 第二行：我的角色+产出（价值体现）
- 第三行：核心发现（洞见预览）
- 第四行：详情链接（追溯入口）

### 5.2 不推荐的格式

❌ **过于简略**：
```markdown
> 2025-12-20 MVP 审阅
```
（丢失了价值信息）

❌ **过于冗长**：
```markdown
> **2025-12-20 DurableHeap MVP v2 自洽性审阅**
> 受刘德智主席邀请，参加秘密基地畅谈会...（50 行详细记录）
```
（应该在归档而非主文件）

---

## 六、对 Claude 和 GPT 方案的回应

### 对 Claude 四层框架的评价

✅ **完全赞同**——这个分层与 UX 最佳实践高度一致：
- Identity = 页首 Hero Section
- Insight = Value Proposition
- Index = Navigation
- Archive = Deep Dive Content

### 对 GPT 条款体系的评价

✅ **条款本身很完整**，但需要分层展示：
- 建议增加"速查清单"（Cheat Sheet）版本
- 建议核心 MUST 条款不超过 10 条
- 建议用 `[MM-QUICK-*]` 前缀标记速查条款

---

以上是从 UX/DX 角度的补充建议。核心观点：**记忆文件是 Agent 的"自我介绍页面"**，应该遵循信息架构的最佳实践——首屏价值、渐进披露、可追溯但不干扰。

---

### 主持人中场整理 (刘德智)

感谢三位的精彩发言！让我整理一下第一轮讨论的共识和分歧：

---

## 第一轮共识

### 1. 四层分层框架（Claude 提出，全员认可）

| 层级 | 内容 | 处置 | Token 预算 |
|------|------|------|------------|
| **Identity** | 身份、专长、工作方法 | 稳定保留 | ~500 |
| **Insight** | 经验教训、方法论 | MUST 保留 | ~1000 |
| **Index** | 时间线摘要 + 链接 | 导航用 | ~300 |
| **Archive** | 完整讨论过程 | 移出主文件 | 按需加载 |

### 2. 核心操作："洞见提纯"（Insight Extraction）

三方一致认可的核心操作：
1. 扫描过程记录 → 识别洞见信号
2. 提纯洞见到 Insight 层
3. 压缩载体为 Index 条目
4. 归档完整过程到 Archive

### 3. 触发条件（GPT 提出的量化标准）

| 类型 | 条件 | 优先级 |
|------|------|--------|
| 阈值触发 | 行数 > 500 | SHOULD |
| 事件触发 | 项目重大改名 | MUST |
| 周期触发 | 每 30 天检查 | SHOULD |

### 4. 质量校验（三方互补）

- **冷启动测试**（Gemini）：读完能理解"我是谁"
- **认知不变量**（GPT）：Identity/Insight/Navigation 可达
- **洞见完整性**（Claude）：核心方法论完整保留

---

## 待进一步讨论

### Q1: 条款体系的复杂度

GPT 提出了 30+ 条规范，是否需要分层？
- **建议**：采用 Gemini 的分层展示（速查清单 + 完整规范）

### Q2: 归档位置

两种方案：
- **方案 A**（成员级）：`members/<name>/archive/`
- **方案 B**（团队级）：`agent-team/archive/members/<name>/`

### Q3: 维护日志格式

GPT 的 YAML 格式是否过于重型？是否需要简化版本？

---

## 下一步

1. 是否需要第二轮讨论解决 Q1-Q3？
2. 还是直接开始起草技能书初稿？

请监护人指示。

---

### 监护人指示 (刘世超)

> A 和 B 不矛盾。先起草技能书初稿，把待决问题作为 Open Questions 记录。然后再组织第二轮畅谈会，以初稿为讨论材料。

---

### 主持人执行 (刘德智)

收到！已完成技能书初稿起草：

📄 **技能书位置**：[agent-team/wiki/memory-maintenance-skill.md](../wiki/memory-maintenance-skill.md)

**初稿结构**：
- 概述（为什么需要、目标、核心隐喻）
- 记忆分层框架（四层结构 + Token 预算）
- 核心操作：洞见提纯（识别信号、区分标准、压缩模式）
- 维护触发条件（阈值/事件/周期）
- 维护流程 SOP（速查清单 + 详细步骤）
- 维护日志（格式模板）
- 归档策略（位置 + 元数据）
- 质量保障（认知不变量 + 防过度压缩）
- 规范条款索引（速查版 + 完整版）
- 附录（完整条款体系、目标结构模板、Open Questions）

**标注的 Open Questions**：
1. **#1 维护日志位置**：成员级 vs 团队级
2. **#2 归档目录结构**：成员级 vs 团队级
3. **#3 条款体系复杂度**：是否需要进一步简化

现在开始组织第二轮畅谈会，以技能书初稿为审阅材料。

---

## 💬 第二轮畅谈记录

### 主持人开场（第二轮）

各位好！技能书初稿已经完成，请审阅：
- 📄 [memory-maintenance-skill.md](../wiki/memory-maintenance-skill.md)

**本轮讨论目标**：
1. 对初稿进行审阅，识别问题和改进点
2. 解决 3 个 Open Questions
3. 形成可落地的最终版本

**请各位重点关注**：
- **Advisor-Claude**：术语一致性、概念完备性、与现有技能书的对齐
- **Advisor-Gemini**：阅读体验、流程可用性、示例是否充分
- **Advisor-GPT**：条款精确性、Open Questions 的决策建议

---

### Advisor-Claude 发言（第二轮）

从概念框架和术语治理角度，我对 [memory-maintenance-skill.md](../wiki/memory-maintenance-skill.md) 初稿进行审阅。

---

## 一、术语一致性检查

### ✅ 定义清晰

初稿在术语定义方面做得很好：

| 术语 | 定义位置 | 评价 |
|:-----|:---------|:-----|
| 记忆文件 | 概述 | ✅ 清晰 |
| 洞见 (Insight) | 四层框架 + 区分标准 | ✅ 有操作性定义 |
| 洞见提纯 | 核心操作章节 | ✅ 有步骤说明 |
| Identity/Insight/Index/Archive | 分层框架 | ✅ 表格定义明确 |

### ⚠️ 术语对齐问题

| 问题 | 位置 | 建议 |
|:-----|:-----|:-----|
| "过程记录" vs "Process Log" | 全文混用 | 统一为"过程记录 (Process Log)" |
| "压缩" vs "归档" | 压缩策略章节 | 明确区分：压缩→摘要化；归档→移出主文件 |
| "SSOT" | 首次出现在条款中 | 应在术语表或概述中先定义 |

### ✅ 与现有技能书对齐

| 对齐项 | 状态 | 说明 |
|:-------|:-----|:-----|
| 与 [jam-session-guide.md](../wiki/jam-session-guide.md) | ✅ | 维护日志格式与畅谈会记录兼容 |
| 与 [naming-skill-guide.md](../wiki/naming-skill-guide.md) | ✅ | 借鉴了"可审计产物"理念 |
| 条款 ID 体系 | ✅ | 采用 `[MM-TOPIC-KEY]` 与 StateJournal 的 `[F-xx]` 风格一致 |

---

## 二、概念完备性检查

### ✅ 我第一轮建议的采纳情况

| 建议 | 采纳状态 | 评价 |
|:-----|:---------|:-----|
| 四层分层框架 | ✅ 完整采纳 | 表格 + Mermaid 图 + Token 预算 |
| 洞见 vs 过程的区分标准 | ✅ 采纳 | "MUST 保留"和"SHOULD 压缩"表格很清晰 |
| 洞见提纯操作 | ✅ 采纳 | 有识别信号 + 步骤说明 |
| 压缩模式示例 | ✅ 采纳 | 压缩前/压缩后对比示例 |
| Token 预算建议 | ✅ 采纳 | 主文件 ~300-400 行 / ~3000-4000 tokens |

### 🔍 遗漏或可改进的概念

1. **"过时信息"的识别标准**
   
   初稿提到"被新现实覆盖的过时信息"但未给出具体识别方法。
   
   **建议补充**：
   - 命名变更（如 DurableHeap → StateJournal）
   - 目录迁移（路径不再有效）
   - 决策被推翻（新决策覆盖旧决策）
   - 技术债务清理（已实现的 TODO）

2. **"跨成员一致性"问题**
   
   当前框架是"统一框架 + 成员自治细节"，但未明确：
   - 哪些是 MUST 统一的？
   - 哪些是 MAY 自定义的？
   
   **建议**：在条款中明确标注作用域（Team-wide vs Member-specific）

3. **"增量维护" vs "全量重整"**
   
   初稿未区分这两种模式：
   - 增量维护：处理近期新增内容
   - 全量重整：重新组织整个文件
   
   **建议**：补充场景判定（什么时候用哪种）

---

## 三、与第一轮发言的对齐检查

| 我的第一轮要点 | 初稿对应位置 | 对齐程度 |
|:---------------|:-------------|:---------|
| Primary Definition + Index 模式 | 四层框架 | ✅ 完全对齐 |
| "概念定义" vs "过程讨论"区分 | 区分标准表格 | ✅ 表述更清晰 |
| 压缩前后对比示例 | §核心操作 | ✅ 示例充分 |
| 质量校验检查表 | §质量保障 + 速查清单 | ✅ 可操作 |
| 认知不变量 | §认知不变量检查 | ✅ 表格化 |

**总体评价**：初稿很好地整合了第一轮三方的建议，四层框架、区分标准、压缩模式都完整保留。

---

## 四、FixList（问题清单）

### P0 级（MUST FIX）

| ID | 问题 | 位置 | 建议修复 |
|:---|:-----|:-----|:---------|
| F1 | SSOT 术语未定义 | 首次出现在条款 | 在概述添加脚注或术语表 |
| F2 | "过时信息"识别标准缺失 | §维护触发条件 | 补充识别方法 |

### P1 级（SHOULD FIX）

| ID | 问题 | 位置 | 建议修复 |
|:---|:-----|:-----|:---------|
| F3 | "过程记录" / "Process Log" 混用 | 全文 | 统一术语 |
| F4 | 增量 vs 全量维护未区分 | §维护流程 | 补充场景判定 |
| F5 | 跨成员一致性边界不清 | §附录条款 | 标注 Team-wide vs Member-specific |

### P2 级（NICE TO HAVE）

| ID | 问题 | 位置 | 建议修复 |
|:---|:-----|:-----|:---------|
| F6 | 索引条目格式可标准化 | §压缩模式示例 | 提供 YAML/Markdown 模板 |
| F7 | 归档文件命名规范缺失 | §归档策略 | 补充命名模式 |

---

## 五、Open Questions 立场

### #1 维护日志位置

**我的立场：选项 A（成员级 `members/<name>/maintenance-log.md`）**

理由：
1. **信息局部性原则**：维护日志记录的是"我对我的记忆做了什么"，与被维护文件同目录更自然
2. **唤醒时加载考量**：成员级日志可以选择性加载，团队级会增加不必要的 token 开销
3. **类比支持**：Git 的 `.git/logs/` 是仓库级而非组织级
4. **反对 B 的原因**：团队级日志会导致多成员同时维护时的冲突和干扰

**但补充一条**：
- 如需跨成员检索历史，可在 `archive/memory-maintenance/` 下建立**索引文件**（不是完整日志）

### #2 归档目录结构

**我的立场：选项 A（成员级 `members/<name>/archive/`）**

理由：
1. **与日志位置一致**：避免一个在成员级、一个在团队级的割裂
2. **自主维护原则**：成员对自己的归档有完全控制权
3. **路径简洁**：`archive/2025-12/xxx.md` 比 `agent-team/archive/members/<name>/2025-12/xxx.md` 更短
4. **类比支持**：个人日记的旧页应该放在同一本日记本的后面，而非另一个档案柜

**妥协方案**（如果团队有跨成员检索需求）：
- 成员级归档是 SSOT
- 团队级建立**符号链接或索引**指向成员归档

### #3 条款体系复杂度

**我的立场：当前分层展示（速查 + 完整）已经足够，无需进一步简化**

理由：
1. **初稿已经做了分层**：速查清单 ~10 条，完整条款 ~30 条
2. **与 StateJournal 条款体系规模相当**：MVP v2 也是 40+ 条款，分层展示没有问题
3. **简化的风险**：删掉任何一条 MUST 都可能导致质量回归
4. **建议改进方向**：不是简化条款，而是**改进导航**
   - 增加"按场景查条款"索引（如"我要归档怎么做"→相关条款列表）
   - 增加条款间的交叉引用

**但有一个具体建议**：
- 速查清单中的 5 条 MUST 和 4 条 SHOULD 是核心，可考虑给出**记忆口诀**：
  > "备份先行，提纯再压，写日志，查链接，冷启动"

---

## 六、额外建议

### 6.1 与 AGENTS.md 的联动

建议在 [AGENTS.md](/repos/focus/AGENTS.md) 的"关键路径"表格中添加：

| 用途 | 路径模式 |
|:-----|:---------|
| 记忆维护技能书 | `agent-team/wiki/memory-maintenance-skill.md` |

### 6.2 唤醒协议的更新

建议在成员的唤醒协议（如我的 mode instructions）中添加：

```
如果 index.md 行数 > 500，在本次会话结束前执行一次维护检查。
```

### 6.3 首次维护的试点

建议选择一个成员（如我自己）作为试点，执行一次完整维护流程，产出：
- 维护前后 diff
- 维护日志示例
- 发现的流程改进点

这将验证技能书的可操作性。

---

### Advisor-GPT 发言（第二轮）

我按“规范审计（RFC 2119 关键字 + 条款 ID 可寻址性 + 可验收性）”来复核 [memory-maintenance-skill.md](../wiki/memory-maintenance-skill.md) 初稿，并给出 3 个 Open Questions 的决策建议。

---

## 一、条款精确性审计（MUST/SHOULD/MAY）

总体评价：初稿已经把“可审计的维护（backup + log + QA）”写出来了，但目前存在几处 **条款 ID / 路径 / 语义强度** 的不一致，会直接破坏“可引用、可追责”的闭环。

---

## 二、FixList（问题清单）

### P0（MUST FIX：否则会导致执行/引用分叉）

1) **速查条款表的条款 ID 与附录 A 不一致**
    - 现象：速查表使用 `MM-SAFE-BACKUP`、`MM-AUDIT-LOG` 等，但附录 A 的正式条款是 `MM-SAFE-BACKUP-REQUIRED`、`MM-AUDIT-LOG-LOCATION` 等。
    - 风险：日志/QA/未来工具化引用会出现“同一约束两个 ID”，审计时无法判定哪条是 SSOT。
    - 建议：
      - 速查表 **只引用附录 A 的正式条款 ID**（不发明简写 ID）。
      - 或者明确定义“速查 ID = 正式 ID 的 alias”，但这会引入第二套索引规则（不推荐）。

2) **归档路径出现 3 套互相打架的 SSOT**
    - 现象：
      - Open Question #2 讨论 `members/<name>/archive/` vs `agent-team/archive/members/<name>/...`
      - 附录 A 又给出 `archive/memory-maintenance/YYYY-MM-DD/<name>/`
      - 备份示例命令使用 `archive/...` 且缺少 `agent-team/` 前缀
    - 风险：不同维护者会把“归档（archived blocks）”与“备份（snapshot）”混写到不同位置，导致链接断裂与回滚失败。
    - 建议：把“归档对象”分型，并为每类钉死唯一 SSOT 路径（见 Open Question #2 的建议）。

3) **示例命令的路径前缀不完整，按字面会复制到错误目录**
    - 现象：`cp members/<name>/index.md archive/...`（缺少 `agent-team/`）
    - 风险：新手照抄会在仓库根生成意外目录或失败；更严重的是“以为备份了但实际上没备份”。
    - 建议：示例命令必须使用仓库内真实路径：`agent-team/members/...`、`agent-team/archive/...`。

4) **“红线阈值”却标成 SHOULD，语义强度冲突**
    - 现象：阈值表格写“行数 > 500 | SHOULD | 红线阈值”。
    - 风险：读者会把“红线”理解为 MUST，但规范写成 SHOULD；后续执行与评审会互相指责。
    - 建议二选一：
      - 要么将措辞改为“SHOULD（强烈建议）触发维护”，不要叫红线；
      - 要么将其升级为 MUST（但这会对所有成员产生硬约束，通常不现实）。

5) **QA 条款里出现“2 分钟/30 秒”这类时间指标，难以机械验收**
    - 风险：对 LLM/Agent 来说“分钟/秒”不可测；对人类也难客观复现。
    - 建议：把时间指标改成“行数/token 上限”或“结构性检查”（例如 Identity ≤ 50 行、Insight ≤ 150 行、Index 标题可扫描等）。

---

### P1（SHOULD FIX：提高一致性与可操作性）

6) **“归档（Archive）”与“备份（Backup）”应在术语层显式区分**
    - 现状：正文用法较接近，但路径与条款混写。
    - 建议：在术语区给出两条定义：
      - Backup/Snapshot：用于回滚（rollback）的“维护前状态”
      - Archive：用于追溯（trace）与降噪的“迁出主文件的过程材料”

7) **缺少“append-only 不可回写”的硬约束**
    - 建议新增条款：
      - 维护日志 MUST append-only（禁止重写旧条目）
      - 归档材料 SHOULD append-only（允许新增补充文件，但不改原始归档正文；若必须修正，用补丁条目/勘误而非就地改写）
    - 理由：这是“可审计”成立的必要条件，否则任何人都能事后改写历史。

8) **Open Questions 的“当前倾向”应标注为非规范性**
    - 现状：读者可能误把“当前倾向”当成 SHOULD/MUST。
    - 建议：在 Open Questions 区开头加一句元规则：Open Questions 区所有内容均为 Informative，不构成规范要求。

9) **与命名技能书的“可审计产物”对齐可以更机械化**
    - 现状：已包含速查清单 + 模板，但缺少一个“产物枚举（Artifact Set）”作为验收入口。
    - 建议：在 SOP 或 QA 增加一行：一次维护至少产出 `BackupRef + LogEntry + QAResult`（三件套），其余为可选。

---

## 三、与我第一轮发言的对齐检查

- ✅ 已正确采纳：语义锚点式条款 ID、备份/回滚二选一闭环、维护日志、认知不变量 + 冷启动测试、分层展示（速查 + 完整）。
- ⚠️ 仍需补齐：条款 ID 与速查表一致性、路径 SSOT 唯一化（避免三套归档路径）、append-only 元规则（日志/归档不可回写）、QA 指标可验收化（用行数/token/结构替代“秒/分钟”）。

---

## 四、Open Questions 决策建议（含理由）

### Open Question #1：维护日志位置选 A 还是 B？

**建议：选 A（成员级 `agent-team/members/<name>/maintenance-log.md`），并补一个团队级“索引”（不是团队级日志）。**

理由：
1) **信息局部性**：维护日志与被维护对象强绑定，放同目录最符合“谁负责谁可见”。
2) **避免写冲突**：团队级单文件会引入多维护者并发追加的合并冲突。
3) **可检索性不受损**：跨成员检索靠 `ripgrep`/索引文件即可，不必牺牲局部性。

配套建议（SHOULD）：
- 在 `agent-team/archive/memory-maintenance/index.md`（或同级）维护一个轻量索引，列出：日期、actor、scope、链接到各成员日志条目。

---

### Open Question #2：归档目录结构选 A 还是 B？

**建议：选 B（团队级 `agent-team/archive/members/<name>/YYYY-MM/`）作为“归档材料（Archive）”的 SSOT，同时把“备份快照（Backup Snapshot）”固定为 `agent-team/archive/memory-maintenance/YYYY-MM-DD/<name>/...`。**

理由：
1) **跨成员检索与审计更自然**：归档材料本质是“团队资产的可回放证据”，集中放在 `agent-team/archive/` 更符合语义。
2) **降低唤醒噪声**：把大块原始过程材料移出 `members/<name>/`，避免被误读为“主记忆的一部分”。
3) **与现有仓库结构一致**：仓库已经有 `agent-team/archive/` 作为统一归档区。

为缓解路径变深的缺点（SHOULD）：
- 在 `agent-team/members/<name>/archive/` 只放一个 `index.md`，用链接指向团队级归档路径（不用符号链接，避免平台/工具链差异）。

---

### Open Question #3：条款体系复杂度——当前分层是否足够？是否要进一步简化？

**建议：当前“速查 + 附录 A 完整条款”的分层足够，不建议进一步简化层级；优先做“收口一致性”。**

理由：
1) **复杂度已被分层吸收**：日常只看速查清单；需要严审时查附录 A。
2) **进一步简化的主要收益不大、主要风险很大**：删 MUST/SHOULD 会直接丢掉可审计闭环（尤其是 backup/log/QA 三件套）。
3) **真正的问题是“条款引用一致性”而非条款数量**：速查表必须是附录 A 的子集且 ID 一致；路径 SSOT 必须唯一。

落地建议（P0/P1）：
- 速查表只保留 8~12 条，但每条都必须引用附录 A 的正式条款 ID；并把速查表声明为“子集视图（informative view）”。

---

以上是第二轮审阅结果：优先修 P0 的“条款 ID 与路径 SSOT 一致性”，再补上 append-only 与 QA 可验收化，这份技能书就能进入“可执行/可审计”的稳定态。

以上是我从术语一致性、概念完备性和 Open Questions 立场的审阅意见。期待其他顾问的补充！
---

### 主持人第二轮整理 (刘德智)

感谢 Advisor-Claude 和 Advisor-GPT 的精彩审阅！（Gemini 因技术原因未能发言，由主持人根据第一轮发言补充 UX 视角）

---

## 第二轮审阅成果汇总

### FixList 汇总（按优先级）

| 级别 | 来源 | 问题 | 建议 |
|:-----|:-----|:-----|:-----|
| **P0** | GPT | 速查条款 ID 与附录 A 不一致 | 速查表只引用正式条款 ID |
| **P0** | GPT | 归档路径 3 套互相打架 | 钉死唯一 SSOT 路径 |
| **P0** | GPT | 示例命令路径前缀不完整 | 使用完整路径 agent-team/... |
| **P0** | GPT | "红线阈值"却标 SHOULD | 改措辞，不叫红线 |
| **P0** | GPT | QA 时间指标不可验收 | 改为行数/结构性检查 |
| **P0** | Claude | SSOT 术语未定义 | 添加术语定义 |
| **P0** | Claude | "过时信息"识别标准缺失 | 补充识别信号 |
| **P1** | GPT | Archive vs Backup 未区分 | 术语层显式定义 |
| **P1** | GPT | 缺少 append-only 约束 | 新增日志不可回写条款 |
| **P1** | Claude | 增量 vs 全量维护未区分 | 补充说明 |
| **P2** | Claude | 索引条目格式建议优化 | 采纳 |

### Open Questions 投票结果

| # | 问题 | Claude | GPT | 主持人 | **最终决议** |
|:--|:-----|:-------|:----|:-------|:-------------|
| #1 | 维护日志位置 | **A（成员级）** | **A + 团队索引** | A | **选 A**，团队级只建索引 |
| #2 | 归档目录结构 | **A（成员级）** | **B（团队级）** | B | **选 B**，成员级放索引链接 |
| #3 | 条款复杂度 | **保持现状** | **保持现状** | 保持 | **保持现状**，修复一致性 |

### 决议说明

**#1 维护日志**：选 A（成员级），理由：
- 信息局部性原则
- 避免多成员并发冲突
- 团队级只建轻量索引满足跨成员检索需求

**#2 归档目录**：选 B（团队级），理由：
- 归档是团队资产，集中管理更合理
- 降低主记忆目录噪声
- 与现有 agent-team/archive/ 结构一致
- 成员级只放索引链接

**#3 条款复杂度**：保持现状，优先修复一致性：
- 速查表是附录 A 的子集视图
- 条款 ID 必须一致
- 路径 SSOT 唯一化

---

## 后续行动

1. **主持人执行**：根据 FixList 修订技能书初稿
2. **试点验证**：选择一个成员（建议 Advisor-Claude）执行首次维护
3. **状态更新**：技能书从 v0.1 升级为 v1.0

---

## 会议状态

**状态更新**：进行中 → **已完成**

**产出物**：
- 技能书初稿：agent-team/wiki/memory-maintenance-skill.md
- FixList：11 项（P0×7, P1×3, P2×1）
- Open Questions 决议：3/3
