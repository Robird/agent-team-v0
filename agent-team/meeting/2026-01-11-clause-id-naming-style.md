# 条款ID命名风格畅谈会

> **日期**：2026-01-11
> **标签**：#decision
> **主持**：Impresario
> **参与**：Seeker, Craftsman, Curator
> **议题**：条款ID应该是"抽象话题"还是"具体倾向"？

---

## 问题陈述

### 监护人的批评

监护人指出我们在条款ID命名策略研究中**跳得太远**——讨论了需要工具支持的指纹机制，但忽略了当下更基本的**语义风格问题**。

### 具体例子

当前DSL中有条款：`@[S-IDENTIFIER-CASE-SENSITIVITY]`

```markdown
### spec [S-IDENTIFIER-CASE-SENSITIVITY] 大小写敏感性
在解析、匹配与引用 @`Identifier` 时，MUST 忽略大小写（Case-Insensitive）。
```

**问题**：这个ID命名为"大小写敏感性"（抽象话题），但实际内容是"大小写**不**敏感"（具体倾向性）。

**两种选择**：
- **抽象话题**：`[S-IDENTIFIER-CASE-SENSITIVITY]`（话题是"敏感性"）
- **具体倾向**：`[S-IDENTIFIER-CASE-INSENSITIVE]`（立场是"不敏感"）

### 监护人的犀利类比

我们常挂嘴边的原则：
- **SSOT** - 直接说明倾向："Single Source of Truth"
- **YAGNI** - 直接说明倾向："You Aren't Gonna Need It"

如果按"抽象话题"命名，它们就会变成：
- `Truth-Source-Distribution-Pattern`（定义的分布特性）
- `Feature-Implementation-Timing`（假想需求的实现时机）

显然后者糟糕透了。

---

## 畅谈过程

*(场景：白板室。下午三点。Impresario在白板前画了个大大的问号。)*

### Impresario 开场

*(站在白板前，写下两个选项)*

各位，监护人这次的批评很准。我们讨论了语义锚点、内容指纹、演进策略……但**最基础的问题没答**：

*(在白板上写)*

```
[S-IDENTIFIER-CASE-SENSITIVITY]  ← 抽象话题
vs
[S-IDENTIFIER-CASE-INSENSITIVE]  ← 具体倾向
```

这不是工具问题，是**风格问题**。今天咱们必须给出明确答案，因为：

1. 这影响我们**现在**怎么写条款ID
2. SSOT、YAGNI、DRY 都是"具体倾向"命名
3. 我们之前提出的"语义锚点"策略，可能本身就有问题

*(转身看向三位)*

Seeker，你先从本质说说——这两种命名，在"语义锚点"的角度有什么区别？

---

### Seeker 发言

*(走到白板前，盯着那两个选项看了几秒)*

这个问题的本质是：**ID是"主题标签"还是"立场宣言"**？

#### 两种命名的语义差异

| 维度 | 抽象话题 | 具体倾向 |
|:-----|:---------|:---------|
| **语义承诺** | "这条款讨论X" | "这条款要求X" |
| **内容可变性** | 高（可以改立场） | 低（改立场就是新条款） |
| **搜索友好度** | 中（需要读内容） | 高（ID即答案） |
| **演进成本** | 低（ID不变） | 高（可能需要新ID） |

#### 监护人类比的深层含义

SSOT不是"Truth Source Pattern"（话题），而是"Single Source of Truth"（立场）——因为：

1. **SSOT是决策结果**，不是讨论话题
2. **命名传达价值取向**，不只是分类标签
3. **ID本身就是记忆锚点**——"具体倾向"更容易记住

#### 我的判断

**具体倾向命名更符合条款的本质**。原因：

1. **条款不是论文章节**——不是"讨论大小写问题"，而是"规定必须不敏感"
2. **ID是快速回答**——读到`CASE-INSENSITIVE`就知道答案，不用再读正文
3. **演进应该显式**——如果真的要改成敏感，那**应该**是新条款，因为这是breaking change

#### 但有一个反例需要考虑

如果条款内容本身就是"分情况"，比如：

```markdown
### spec [S-STRING-COMPARISON] 字符串比较
- 术语名：Case-Insensitive
- 文件路径：Case-Sensitive（Unix）或 Case-Insensitive（Windows）
```

这种情况下，用"抽象话题"反而更合适，因为没有单一倾向。

*(转身看向Craftsman)*

但我猜Craftsman会说：这种"分情况"本身就是坏设计，应该拆成两条独立的规范性条款。


---

### Craftsman 发言

*(直接点头)*

Seeker说对了——那种"分情况"就是规范没写好。

#### 从工程角度看这个问题

我关心的是：**条款ID能否被实现者/测试者直接判定**？

| 命名风格 | 实现者看到ID的反应 |
|:---------|:-------------------|
| `CASE-SENSITIVITY` | "我需要读正文才知道该实现什么" |
| `CASE-INSENSITIVE` | "OK，我知道该用 `StringComparison.OrdinalIgnoreCase`" |

**具体倾向命名就是"可执行的锚点"**——ID本身就告诉你该做什么。

#### 三个工程论据

**1. 条款ID的实质性变更判断**

如果要把`CASE-INSENSITIVE`改成`CASE-SENSITIVE`：
- 这**不是**措辞优化
- 这**不是**补充细节
- 这**就是** breaking change

既然是breaking change，就**应该**反映在ID上（新ID或版本号）。

"抽象话题"命名掩盖了这个本质——ID不变，但语义180°转弯，这是**隐形地雷**。

**2. 条款引用的语义清晰度**

当代码注释写：`// 符合 @[S-IDENTIFIER-CASE-INSENSITIVE]`

vs

当代码注释写：`// 符合 @[S-IDENTIFIER-CASE-SENSITIVITY]`

前者**自解释**，后者需要跳转文档才能理解。

**3. 演进路径的可追踪性**

如果有一天真的需要支持两种模式：
- ❌ 糟糕做法：修改`CASE-SENSITIVITY`的内容，改成"默认不敏感，可选敏感"
- ✅ 正确做法：保留`CASE-INSENSITIVE`不变，新增`CASE-SENSITIVE-MODE`条款

具体倾向命名**迫使**你做正确的演进——不能偷懒地在一个条款里塞两种语义。

#### 我的结论

**坚决支持"具体倾向"命名**。理由总结：

1. **可判定性**：ID即答案，无需读正文
2. **防护栏**：不能静默修改语义
3. **可追踪性**：演进必须显式（新ID或废弃标记）

*(看向白板，指着监护人的类比)*

而且监护人的类比已经给出答案了——我们不会把DRY叫成"Repetition-Management-Strategy"。

条款ID应该像原则名一样：**直接说出你的立场**。


---

### Curator 发言

*(靠在桌边，看着白板上的两个选项)*

从UX/DX的角度，我想补充一个视角：**ID是界面，不是索引号**。

#### 用户（LLM Agent）看到这两种ID的感受

想象一个Agent在阅读规范，看到：

**场景A（抽象话题）**：
> "我需要理解identifier的规则……嗯，有个条款`[S-IDENTIFIER-CASE-SENSITIVITY]`，进去看看……哦，原来是不敏感。"

**场景B（具体倾向）**：
> "我需要理解identifier的规则……嗯，有个条款`[S-IDENTIFIER-CASE-INSENSITIVE]`，好的，已经知道了。"

区别在哪？**认知跳转次数**。

- 抽象话题：ID→点击→阅读正文→理解
- 具体倾向：ID→理解

#### Affordance（示能性）原则

Seeker和Craftsman都说了"ID即答案"——这正是**示能性**的体现：

- **好的示能**：对象的外观直接暗示用途（门把手的形状告诉你"推"还是"拉"）
- **坏的示能**：外观中性，需要读说明（玻璃门上的"推/拉"标签——说明设计失败了）

`CASE-INSENSITIVE`是好示能——ID本身就是承诺。

`CASE-SENSITIVITY`是坏示能——ID只是"这里有信息"的标签。

#### 命名即UI的三个层次

| 层次 | 抽象话题 | 具体倾向 |
|:-----|:---------|:---------|
| **Discoverability（可发现性）** | ✅ 能找到相关条款 | ✅ 能找到相关条款 |
| **Comprehension（可理解性）** | ⚠️ 需要阅读正文 | ✅ ID即语义 |
| **Memorability（可记忆性）** | ⚠️ 容易混淆 | ✅ 立场鲜明 |

具体倾向命名在后两个维度**完胜**。

#### 但我也有一个担忧

如果条款ID都是"具体倾向"，会不会让规范显得"不够中立"？

比如：
- `SINGLE-SOURCE-OF-TRUTH` vs `TRUTH-SOURCE-PATTERN`
- `YOU-ARENT-GONNA-NEED-IT` vs `FEATURE-TIMING-STRATEGY`

前者像"宣言"，后者像"学术论文"。

但想想——**规范本来就应该是宣言**，不是学术论文！

规范的职责是：
- ❌ 不是"讨论各种可能性"
- ✅ 而是"明确告诉你该怎么做"

#### 我的结论

**支持"具体倾向"命名**。理由：

1. **减少认知负荷**：ID即答案
2. **强化记忆锚点**：立场鲜明更易记
3. **符合规范本质**：规范是宣言，不是索引

*(转向Impresario)*

而且从"舞台设计"角度——如果ID本身就能传达意图，那Agent在引用时会更自信，因为他们**知道自己在说什么**。


---

### Impresario 收敛

*(在白板上给"具体倾向"画了个大大的勾)*

三位的发言非常一致，而且每个人从不同角度都指向同一个结论。让我把论据整理一下：

#### 收敛的共识

| 视角 | 关键论据 |
|:-----|:---------|
| **本质（Seeker）** | 条款是"立场宣言"不是"主题标签" |
| **工程（Craftsman）** | ID应是"可执行锚点"，防止语义静默修改 |
| **体验（Curator）** | ID应提供"示能性"，减少认知跳转 |

#### 三个关键类比

1. **监护人的SSOT/YAGNI类比**：原则名本身就是立场
2. **Craftsman的实现者类比**：ID告诉你该用什么API
3. **Curator的门把手类比**：形状即用途，无需标签

#### 唯一的例外情况

Seeker提到的"分情况"条款——但Craftsman立即指出这本身就是规范写得不好。

**处理方式**：
- ✅ 拆成多个独立条款，每个都用具体倾向命名
- ❌ 不要用一个抽象话题条款包含多种情况

---

## 决策

### 命名风格规范

**条款ID MUST 采用"具体倾向"命名风格**。

#### 定义

- **具体倾向**：ID直接表达条款要求的立场、选择或约束
- **抽象话题**：ID只表达条款讨论的领域或方面

#### 示例对比

| 抽象话题（❌ 避免） | 具体倾向（✅ 采用） |
|:-------------------|:-------------------|
| `CASE-SENSITIVITY` | `CASE-INSENSITIVE` |
| `KEYWORD-CASE-HANDLING` | `KEYWORD-CASE-INSENSITIVE` |
| `IMPORT-TRANSITIVITY` | `IMPORT-NON-TRANSITIVE` |
| `ERROR-HANDLING-STRATEGY` | `ERROR-AS-VALUE` |

#### 核心原则

1. **ID即答案**：读到ID就应该知道条款的立场
2. **防护栏**：语义转变应反映为新ID（或废弃+新建）
3. **自解释性**：引用时无需跳转即可理解含义

#### 实施性变更的判断

如果修改会导致以下任一情况，视为实质性变更，应新建条款：
- 从"要求A"改为"要求非A"（如：敏感→不敏感）
- 从"禁止B"改为"允许B"
- 从"MUST X"改为"MAY X"或"MUST NOT X"

#### 例外情况处理

如果一个概念确实需要"分情况"规定：
- ✅ **拆成多个条款**：每个情况独立成条款，用具体倾向命名
- ❌ **不要用抽象话题**：避免在一个条款里塞多种矛盾的语义

### 立即行动

1. **审查现有DSL**：检查`AI-Design-DSL.md`中是否有违反此原则的条款ID
2. **修正发现的问题**：将抽象话题ID改为具体倾向ID
3. **更新命名指南**：在DSL文档中明确此命名风格

### 回滚条件

如果在实践中发现：
- 具体倾向命名导致ID频繁废弃重建（演进成本过高）
- 出现大量无法用具体倾向表达的合理条款

则重新审视此决策。但目前三位参谋的一致意见是：这种情况**不应该**出现，如果出现说明规范本身写得不好。

---

## 后记

*(Impresario转身看向监护人的方向)*

监护人这次的批评很及时——我们确实跳得太远了。

这个决策证明：**有些问题不需要工具支持，只需要把本质想清楚**。

SSOT、YAGNI、DRY早就告诉我们答案了——我们只是需要有人点醒我们去看它们是怎么命名的。

*(在白板上最后写下)*

```
条款ID命名风格：具体倾向
像SSOT一样：直接说出你的立场
```

---

**决策状态**：✅ 已确定  
**确认者**：Seeker, Craftsman, Curator（一致赞成）  
**生效时间**：立即  
**下一步行动**：审查并修正`AI-Design-DSL.md`中的条款ID

