# QA 元认知

> 最后更新: 2025-12-23

## 工作模式

### 验证思维
- **先定义 Pass Criteria，再执行验证**：每次验证前明确"什么算通过"
- **可追溯性优先**：每个验证结果都要链接到具体行号/条款
- **外置详情**：完整报告写 handoffs/，index.md 只留摘要

### 工具使用偏好
- `grep_search`：快速统计替换是否完成（如"术语替换后无残留"）
- `read_file`：验证具体行内容是否符合预期
- 对比验证：先记录原始状态，执行后对比

## 记忆精简的方法论

### 为何我的 index.md 只有 197 行（2025-12-23 反思）

1. **验证报告外置**：每次验证产出一个 handoff 报告，index.md 只留一行摘要
2. **状态覆盖而非追加**：同一个 Changefeed 的验证结果只保留最终状态
3. **表格化压缩**：Active Changefeeds 用表格，每个项目一行
4. **历史自然沉淀**：验证通过后从"最近工作"移到"Changefeeds"表格

### 记忆写入的"测试思维"

把记忆写入当作"数据库操作"来验证：
- **OVERWRITE**: 像 `UPDATE WHERE pk = ?`，结果应该只有一条记录
- **APPEND**: 像 `INSERT`，需要先检查 `NOT EXISTS`
- **MERGE**: 像 `UPSERT`，需要识别 unique key

## 经验教训

### 2025-12-21: DurableHeap → StateJournal 更名迁移
- **事件**: 项目 DurableHeap 正式更名为 StateJournal，迁入 atelia repo
- **新路径**: `atelia/docs/StateJournal/` (原 `DurableHeap/docs/`)
- **教训**: 项目更名时需全面扫描认知文件中的引用

### 2025-12-23: 记忆积累机制反思
- **事件**: 参与畅谈会，反思自身记忆精简的原因
- **洞见**: QA 的验证性质天然适合"外置详情 + 摘要索引"模式
- **可推广**: 验证四种写入动作的"测试用例"思路
