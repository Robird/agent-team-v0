# Inbox — 待处理便签

> 这是你的便签收集箱。
> 写下洞见、经验、状态变更，MemoryPalaceKeeper 会定期整理归档。
>
> **格式**：每条便签用 `## 便签 YYYY-MM-DD HH:MM` 开头，用 `---` 分隔。

---

<!-- 在下方添加你的便签 -->

## 便签 2025-12-23 10:30

**冗余分析框架**：今天在审阅 rbf-format.md 时形成了一个冗余分类框架：

| 冗余类型 | 维护风险 | 策略 |
|:---------|:---------|:-----|
| 语义冗余（同一信息不同表述）| 高 | MUST 消除 |
| 结构冗余（同一内容不同组织维度）| 中 | 可自动化消除 |
| 教学冗余（为理解而刻意重复）| 低 | MAY 保留 |

**核心洞见**：规范文档 vs 教程文档的张力——规范追求 SSOT，教程追求多视角呈现。当一份文档试图同时扮演两个角色时，就会出现"有害冗余"与"有益冗余"并存。

**审阅技巧**：识别冗余时，关键问题是"这是 Primary Definition 还是 Derived/Referenced 信息？"——派生信息应该引用源定义，而非复制。

---

## 便签 2025-12-23 16:30

**RBF 规范审阅——条款合并判断方法论**

审阅 rbf-format.md 时形成的条款合并判断标准：

**SHOULD 合并**：
1. 同一术语的多维度定义（如 Genesis Header 的位置约束 + 初始状态约束）
2. 强耦合的概念（如 Fence 定义与分隔行为）
3. 同一行为的动机与实现（如 Resync 的"不信任 TailLen"与"按 4B 扫描"）

**SHOULD NOT 合并**：
1. 数值恰好一致但来源不同的约束（如 Frame 4B 对齐 vs Ptr64 4B 对齐）
2. What vs How 的独立关注点（如 CRC 覆盖范围 vs CRC 算法参数）
3. 完整算法 vs 行为约束（合并会使算法条款过于庞大）

**派生条款处理**：当文档声明"X 是 SSOT"时，从 X 可推导的公式应降级为注释，不作为独立条款——这与"Primary Definition + Index 模式"一脉相承。

---

## 便签 2025-12-23 18:00

**RBF 规范审阅——分层术语歧义问题**

审阅 rbf-format.md 与 rbf-interface.md 发现"Payload"术语在两层存在语义冲突：
- Layer 0 (wire format)：`Payload = Tag + PayloadBody`（包含 FrameTag）
- Layer 1 (interface)：`RbfFrame.Payload`（不含 Tag，Tag 是独立属性）

这是典型的"分层接口术语歧义"——同一术语在不同抽象层有不同的语义边界。

**解决模式**：
1. 在 wire format 层使用更精确的命名（如 `PayloadData`）
2. 在接口层使用用户友好命名（`Payload`）
3. 两层术语映射关系需在接口文档中明确说明

**类比**：这类似于网络协议栈中"payload"在每层的含义——IP 的 payload 是 TCP 头 + 数据，TCP 的 payload 不含头。每层应使用消歧命名或明确交叉引用。

---

